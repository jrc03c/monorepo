language: javascript
tasks:
  build:
    command:
      - npx
      - esbuild
      - src/index.mjs
      - --bundle
      - --external:readline
      - --outfile=dist/progress.require.cjs
      - --platform=node
    platform: node
  pub:
    command:
      - npm
      - publish
      - --access=public
    deps:
      - ~:pub-dep1
    local: true
    platform: node
  pub-dep1:
    command:
      - npm
      - version
      - patch
      - --force
    local: true
    platform: node
