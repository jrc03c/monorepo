(()=>{var Gt=Object.create;var at=Object.defineProperty;var Xt=Object.getOwnPropertyDescriptor;var Zt=Object.getOwnPropertyNames;var Qt=Object.getPrototypeOf,xt=Object.prototype.hasOwnProperty;var lt=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var en=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Zt(t))!xt.call(e,i)&&i!==n&&at(e,i,{get:()=>t[i],enumerable:!(r=Xt(t,i))||r.enumerable});return e};var ht=(e,t,n)=>(n=e!=null?Gt(Qt(e)):{},en(t||!e||!e.__esModule?at(n,"default",{value:e,enumerable:!0}):n,e));function Oe(e){if(typeof e!="string")throw new Error("`text` must be a string!");e=e.trim();let t="",n=!1;for(let r=0;r<e.length;r++){let i=e[r];i.match(/[A-Za-z0-9]/g)?(t.length===0?t+=i.toLowerCase():n?t+=i.toUpperCase():t+=i,n=!1):!i.includes("'")&&!i.includes("\u2019")&&!i.includes("\u275C")&&(n=!0)}return t}var tn=Object.defineProperty,nn=(e,t,n)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ft=(e,t,n)=>(nn(e,typeof t!="symbol"?t+"":t,n),n);function m(e){return typeof e=="number"&&!isNaN(e)||typeof e=="bigint"}var rn=new Function(`
  try {
    return this === window
  } catch(e) {}

  try {
    return typeof importScripts !== "undefined"
  } catch(e) {}

  return false
`),V=class extends Error{constructor(e){rn()?super(e):super(`

\x1B[31m`+e+`
\x1B[0m`)}};function l(e,t){if(!e)throw new V(t)}var Nt=[Array,ArrayBuffer,BigInt64Array,BigUint64Array,Float32Array,Float64Array,Int16Array,Int32Array,Int8Array,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray];function p(e){return e===null||typeof e>"u"}var sn=Nt.map(e=>e.name);function f(e){try{return e instanceof Array?!0:p(e.constructor)?!1:Nt.indexOf(e.constructor)>-1||sn.indexOf(e.constructor.name)>-1}catch{return!1}}function w(e){try{return!!e._symbol&&e._symbol===Symbol.for("@jrc03c/js-math-tools/dataframe")}catch{return!1}}function S(e){return typeof e=="function"}function z(e){return typeof e=="object"&&!p(e)&&!f(e)}function y(e){try{return!!e._symbol&&e._symbol===Symbol.for("@jrc03c/js-math-tools/series")}catch{return!1}}function te(e,t){if(w(e)){let s=te(e.values,t);return s.length>0&&m(s[0])&&s[0]>=0&&s[0]<e.index.length&&(s[0]=e.index[s[0]]),s.length>1&&m(s[1])&&s[1]>=0&&s[1]<e.columns.length&&(s[1]=e.columns[s[1]]),s}if(y(e)){let s=te(e.values,t);return s.length>0&&m(s[0])&&s[0]>=0&&s[0]<e.index.length&&(s[0]=e.index[s[0]]),s}if(l(z(e)||f(e),"You must pass (1) an object, array, Series, or DataFrame and (2) a function or value into the `indexOf` function!"),!S(t)){let s=t;t=u=>u===s}function n(s,u,o){if(o=o||[],o.indexOf(s)>-1)return null;if(z(s)){o.push(s);let a=Object.keys(s).concat(Object.getOwnPropertySymbols(s));for(let h=0;h<a.length;h++){let c=a[h],d=s[c];if(u(d))return[c];let g=n(d,u,o);if(g&&g.length>0)return[c].concat(g)}}else if(f(s)){o.push(s);for(let a=0;a<s.length;a++){let h=s[a];if(u(h))return[a];let c=n(h,u,o);if(c&&c.length>0)return[a].concat(c)}}else if(u(s))return[];return null}function r(s){try{return t(s)}catch{return!1}}let i=n(e,r);return i&&i.length>0?i:null}function O(e){function t(n){if(typeof n=="object"){if(n===null)return null;if(f(n))return n instanceof Array?n.map(i=>O(i)):n.slice();if(y(n)){let i=n.copy();return i.values=O(i.values),i}if(w(n)){let i=n.copy();return i.values=O(n.values),i}if(n instanceof Date)return new Date(n.getTime());n=q(n);let r={};return Object.keys(n).concat(Object.getOwnPropertySymbols(n)).forEach(i=>{r[i]=O(n[i])}),r}else return n}return t(q(e))}function q(e){function t(i,s,u){if(s=s||[],u=u||"",s.indexOf(i)>-1){let o=u.split("/").slice(u.startsWith("/")?1:0);if(o.some((h,c)=>{let d=o.slice(0,o.length-c-1),g=n;return d.forEach(v=>{g=g[v]}),g===i}))return`<reference to "${n===i?"/":"/"+te(n,i).join("/")}">`}return typeof i=="object"?i===null?null:(s.push(i),f(i)?typeof i.constructor<"u"&&i.constructor.name!=="Array"?i.slice():i.map((o,a)=>t(o,s,u+"/"+a)):(Object.keys(i).concat(Object.getOwnPropertySymbols(i)).forEach(o=>{i[o]=t(i[o],s,u+"/"+o.toString())}),i)):i}let n=e,r=t(n);if(w(e)){let i=e.copy();i._values=r.values,i._columns=r.columns,i._index=r.index,r=i}if(y(e)){let i=e.copy();i.name=r.name,i._values=r.values,i._index=r.index,r=i}return r}function L(e){return e instanceof Date&&e.toString()!=="Invalid Date"}var ct=["number","int","float","bigint"];function H(e,t){function n(r,i){let s=typeof r,u=typeof i;if(s!==u&&!ct.includes(s)&&!ct.includes(u))return!1;if(s==="undefined"&&u==="undefined")return!0;if(s==="boolean"||s==="symbol")return r===i;if(s==="number"||s==="bigint")try{let o=r.toString(),a=i.toString();return o===a}catch{return!1}if(s==="string"||s==="function")return r===i;if(s==="object"){if(r===null||i===null)return r===null&&i===null;{if(L(r))return L(i)?r.getTime()===i.getTime():!1;if(L(i))return!1;if(r instanceof RegExp&&i instanceof RegExp)return r.toString()===i.toString();if(f(r)!==f(i))return!1;let o=Object.keys(r).concat(Object.getOwnPropertySymbols(r)),a=Object.keys(i).concat(Object.getOwnPropertySymbols(i));if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let c=o[h];if(!n(r[c],i[c]))return!1}return!0}}}try{return n(e,t)}catch{return n(q(e),q(t))}}function he(e){let t="abcdefg1234567890",n="";for(;n.length<e;)n+=t[Math.floor(Math.random()*t.length)];return n}var un=he(16),on=he(16),an=he(16),ln=he(16),hn=he(16),cn=class{constructor(){this.clear()}get counts(){return this.values.map(e=>this.get(e))}get values(){return Object.values(this.valuesDict)}clear(){return this.countsDict={},this.valuesDict={},this}count(e){for(let t of e)f(t)?this.count(t):this.increment(t);return this}delete(e){let t=this.getStandardizedKey(e);return delete this.countsDict[t],delete this.valuesDict[t],this}get(e){return this.countsDict[this.getStandardizedKey(e)]||0}getStandardizedKey(e){return typeof e=="object"&&e===null?un:p(e)?on:S(e)?e.toString():typeof e=="symbol"?e.toString()+" - "+hn:e===1/0?an:e===-1/0?ln:typeof e=="bigint"?e.toString():w(e)?e.toJSONString():y(e)?JSON.stringify(e.toObject()):JSON.stringify(e)}has(e){return!p(this.countsDict[this.getStandardizedKey(e)])}increment(e){return this.set(e,this.get(e)+1)}set(e,t){let n=this.getStandardizedKey(e);return this.countsDict[n]=t,this.valuesDict[n]=e,this}toArray(){return this.values.map(e=>({value:e,count:this.get(e)}))}toObject(){let e={};return this.values.forEach(t=>{e[t]=this.get(t)}),e}};function R(e){if(w(e)||y(e))return R(e.values);l(f(e),"The `flatten` function only works on arrays, Series, and DataFrames!");function t(n){let r=[];return n.forEach(i=>{f(i)?r=r.concat(t(i)):r.push(i)}),r}return t(e)}function j(e,t){t=t||{};let n=new cn,r={},i=R(e),s=[],u=-1/0,o=1/0,a=!1,h=0;for(let d of i){if(typeof d=="bigint"&&(a=!0),!t.shouldDropNaNs||m(d))try{d>u&&(u=d),d<o&&(o=d),h+=Number(d),s.push(d)}catch{u=NaN,o=NaN,h=NaN}n.increment(d)}let c=h/s.length;if(r.counts=n,r.max=u,r.mean=c,r.min=o,r.n=i.length,r.sum=h,isNaN(r.mean)&&(r.max=NaN,r.min=NaN),t.shouldDropNaNs&&(r.nWithoutNaNs=s.length),t.mode){let d=Array.from(n.values.map(A=>[A,n.get(A)])).toSorted((A,C)=>C[1]-A[1]),g=d[0][1],v=[];for(let A of d)if(A[1]==g)v.push(A[0]);else break;r.mode=v.toSorted()}if(t.median)if(isNaN(c))r.median=NaN;else{let d=s.toSorted((v,A)=>Number(v)-Number(A)),g=Math.floor(d.length/2);if(d.length%2===0){let v=d[g-1],A=d[g];if(r.median=(Number(v)+Number(A))/2,a&&typeof v=="bigint"&&typeof A=="bigint")try{r.median=BigInt(r.median)}catch{}}else r.median=d[g]}if(t.stdev||t.variance){let d=0;for(let v of s)d+=Math.pow(Number(v)-c,2);d/=s.length;let g=Math.sqrt(d);r.stdev=g,r.variance=d}if(a){try{r.sum=BigInt(r.sum)}catch{}try{r.mean=BigInt(r.mean)}catch{}t.mode&&(r.mode=r.mode.map(d=>{try{return BigInt(d)}catch{return d}}))}return r}function Fe(e,t){let{counts:n}=j(e);return p(t)||(S(t)?n.values.forEach(r=>{t(r)||n.delete(r)}):n.values.forEach(r=>{H(r,t)||n.delete(r)})),n}function Le(e){if(w(e)||y(e))return Le(e.values);if(f(e)){let t=!1,n=!1,r=null;for(let i of e){if(Le(i))return!0;if(f(i)){if(r===null)r=i.length;else if(i.length!==r)return!0;t=!0}else n=!0;if(t&&n)return!0}}return!1}function ce(e){return Le(q(e))}function Be(e){if(w(e)||y(e))return Be(e.values);l(f(e),"The `isNested` function only works on arrays, Series, and DataFrames!");for(let t=0;t<e.length;t++)if(f(e[t]))return!0;return!1}var Z="You must pass a natural number or a one-dimensional array of natural numbers into the `ndarray` function!";function k(e){l(!p(e),Z),f(e)||(e=[e]),l(!Be(e),Z),l(e.length>0,Z);let t=e[0];if(typeof t=="bigint"&&(t=Number(t)),l(m(t),Z),l(t>=0,Z),l(Math.floor(t)===t,Z),l(t!==1/0,"We can't create an array containing an infinite number of values!"),e.length===1){let n=[];for(let r=0;r<t;r++)n.push(void 0);return n}else{let n=[];for(let r=0;r<t;r++)n.push(k(e.slice(1)));return n}}function P(e){if(w(e)||y(e)){let n=e.copy();return n.values=P(n.values),n.index=P(n.index),n}l(f(e),"The `reverse` function only works on arrays, Series, and DataFrames!");let t=[];for(let n=e.length-1;n>=0;n--)t.push(e[n]);return t}function _(e,t,n=1){l(!p(e)&&!p(t)&&!p(n),"You must pass two numbers and optionally a step value to the `range` function!"),l(m(e)&&m(t)&&m(n),"You must pass two numbers and optionally a step value to the `range` function!"),l(n>0,"The step value must be greater than 0! (NOTE: The step value is a magnitude; it does not indicate direction.)");let r=!1,i=typeof e=="bigint"||typeof t=="bigint"||typeof n=="bigint";if(e=Number(e),t=Number(t),n=Number(n),e>t){r=!0;let u=e;e=t+n,t=u+n}let s=[];for(let u=e;u<t;u+=n)if(i)try{s.push(BigInt(u))}catch{s.push(u)}else s.push(u);return r&&(s=P(s)),s}function fe(e){let t="abcdefg1234567890",n="";for(;n.length<e;)n+=t[Math.floor(Math.random()*t.length)];return n}var fn=fe(256),dn=fe(256),mn=fe(256),gn=fe(256),pn=fe(256);function M(e){if(w(e)||y(e))return M(e.values);l(f(e),"The `set` function only works on arrays, Series, and DataFrames!");let t=[],n={};return R(e).forEach(r=>{let i=typeof r=="object"&&r===null?fn:p(r)?dn:S(r)?r.toString():typeof r=="symbol"?r.toString()+" - "+pn:r===1/0?mn:r===-1/0?gn:typeof r=="bigint"?r.toString():w(r)?r.toJSONString():y(r)?JSON.stringify(r.toObject()):JSON.stringify(r);n[i]||t.push(r),n[i]=!0}),t}function _t(e){if(f(e)){let t=_t(e[0]);return[e.length].concat(t||[])}else return}function b(e){return w(e)||y(e)?b(e.values):(l(f(e),"The `shape` function only works on arrays, Series, and DataFrames!"),_t(e))}function At(e,t,n){if(p(n)&&(n=0),l(n===0||n===1||n==="vertical"||n==="horizontal",'The only valid axis values for use when appending data to a DataFrame are 0, 1, "vertical", and "horizontal". Note that 0 == "horizontal" and 1 == "vertical".'),f(t)){l(!ce(t),"The array of data you're trying to append to this DataFrame is jagged!");let r=b(t);if(r.length===1)if(n===0){let i=e.copy();i._values.push(t);let s=Math.max(e.shape[1],r[0]);for(i._values.forEach(u=>{for(;u.length<s;)u.push(void 0)});i._index.length<i._values.length;)i._index.push("row"+i._index.length);for(;i._columns.length<s;)i._columns.push("col"+i._columns.length);return i}else{let i=Math.max(e.shape[0],r[0]),s=e.copy();for(_(0,i).forEach(u=>{u>=s._values.length&&s._values.push(k(e.shape[1])),s._values[u].push(t[u])});s._index.length<s._values.length;)s._index.push("row"+s._index.length);for(;s._columns.length<s._values[0].length;)s._columns.push("col"+s._columns.length);return s}else if(r.length===2)if(n===0){let i=Math.max(...t.map(u=>u.length).concat([e.shape[1]])),s=e.copy();for(s._values=s._values.concat(t).map(u=>{for(;u.length<i;)u.push(void 0);return u});s._index.length<s._values.length;)s._index.push("row"+s._index.length);for(;s._columns.length<i;)s._columns.push("col"+s._columns.length);return s}else{let i=Math.max(...t.map(o=>o.length))+e.shape[1],s=Math.max(e.shape[0],r[0]),u=e.copy();for(_(0,s).forEach(o=>{for(o>=u._values.length&&u._values.push(k(e.shape[1])),u._values[o]=u._values[o].concat(t[o]);u._values[o].length<i;)u._values[o].push(void 0)});u._index.length<u._values.length;)u._index.push("row"+u._index.length);for(;u._columns.length<i;)u._columns.push("col"+u._columns.length);return u}else throw new V("Only 1- and 2-dimensional arrays can be appended to a DataFrame!")}else if(y(t)){let r=At(e,t.values,n);return n===0?r.index[r.index.length-1]=r.index.indexOf(t.name)>-1?t.name+" (2)":t.name:r.columns[r.columns.length-1]=r.columns.indexOf(t.name)>-1?t.name+" (2)":t.name,r}else if(w(t))if(n===0){let r=e.copy(),i=M(r._columns.concat(t._columns)).length;for(r._values.forEach(s=>{for(;s.length<i;)s.push(void 0)}),t.apply(s=>{let u=s.copy(),o=[];r._columns.forEach(a=>{let h=u._index.indexOf(a);h>-1?(o.push(u._values[h]),u._values.splice(h,1),u._index.splice(h,1)):o.push(void 0)}),r._values.push(o.concat(u._values))},1),r._columns=r._columns.concat(t._columns.filter(s=>r._columns.indexOf(s)<0));r._index.length<r._values.length;){let s="row"+r._index.length;r._index.push(s+(e._index.indexOf(s)>-1?" (2)":""))}return r}else{let r=e.copy();return r._index.forEach((i,s)=>{let u=t._index.indexOf(i);u>-1?r._values[s]=r._values[s].concat(t._values[u]):r._values[s]=r._values[s].concat(k(t.shape[1]))}),t._index.forEach((i,s)=>{r._index.indexOf(i)<0&&(r._index.push(i),r._values.push(k(r._columns.length).concat(t._values[s])))}),r._columns=r._columns.concat(t._columns.map(i=>i+(r._columns.indexOf(i)>-1?" (2)":""))),r}else throw new V("Only 1- or 2-dimensional arrays, Series, and DataFrames can be appended to a DataFrame!")}function yn(e,t,n,r,i){if(i=i||0,l(S(r),"The first parameter to the `apply` method must be a function."),l(i===0||i===1,"The second parameter to the `apply` method (the `axis`) must be 0 or 1."),i===0){let s={},u;if(n.columns.forEach((o,a)=>{let h=new t(n.values.map(d=>d[a]));h.name=o,h.index=n.index;let c=r(h,a,n);c instanceof t?s[o]=c.values:s[o]=c,p(u)&&(u=c instanceof t||f(c))}),u){let o=new e(s);return o.index=n.index,o}else{let o=new t(n.columns.map(a=>s[a]));return o.index=n.columns,o}}else if(i===1){let s,u=n.values.map((o,a)=>{let h=new t(o);h.name=n.index[a],h.index=n.columns;let c=r(h,a,n);return p(s)&&(s=c instanceof t||f(c)),c instanceof t?c.values:c});if(s){let o=new e(u);return o.index=n.index,o.columns=n.columns,o}else{let o=new t(u);return o.index=n.index,o}}}function D(e){return typeof e=="string"}function bn(e,t,n,r,i){let s=o=>o instanceof e,u=o=>o instanceof t;if(p(i)){if(s(r))return n.append(r,1);if(u(r))return n.append(r,1);if(z(r)){let o=Math.max(...Object.keys(r).concat(Object.getOwnPropertySymbols(r)).map(a=>r[a].length));return Object.keys(r).concat(Object.getOwnPropertySymbols(r)).forEach(a=>{for(;r[a].length<o;)r[a].push(void 0)}),n.append(new e(r),1)}else throw new V("You must pass a DataFrame, Series, or object into the `assign` method!")}else{l(D(r),"If passing two arguments into the `assign` method, then the first argument must be a string name!"),l(f(i)&&!ce(i)&&b(i).length===1,"If passing two arguments into the `assign` method, then the second argument must be a 1-dimensional array!");let o=n.append(i,1);return o.columns[o.columns.length-1]=r,o}}function wn(e,t){if(t.isEmpty)return new e;let n=new e(O(t.values));return n.columns=t.columns.slice(),n.index=t.index.slice(),n}function vn(e,t,n,r,i){p(r)&&(r=[]),p(i)&&(i=[]),(D(r)||m(r))&&(r=[r]),(D(i)||m(i))&&(i=[i]),l(f(r),"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),l(f(i),"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),l(b(r).length===1,"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings."),l(b(i).length===1,"The `drop` method only works on 1-dimensional arrays of numerical indices and/or strings.");let s,u;n.index.forEach((a,h)=>{r.indexOf(a)<0&&r.indexOf(h)<0&&(s||(s=[]),s.push(a))}),n.columns.forEach((a,h)=>{i.indexOf(a)<0&&i.indexOf(h)<0&&(u||(u=[]),u.push(a))});let o=n.get(s,u);if(o instanceof t){let a=new e;a=a.assign(o),n.index.indexOf(o.name)>-1&&(a=a.transpose()),o=a}return o}function St(e){return m(e)&&(e>=0?Math.floor(e)===e:Math.ceil(e)===e)}function ne(e){return St(e)&&e>=0}function Dn(e,t,n,r,i,s){r=r||0,l(r===0||r===1,"The first parameter of the `dropMissing` method (the `axis`) must be 0 or 1."),s=s||0,l(ne(s),"The third parameter of the `dropMissing` method (the `threshold`) should be a whole number (meaning that data should be dropped if it contains more than `threshold` null values)."),i=s>0?"none":i||"any",l(i==="any"||i==="all"||i==="none","The second parameter of the `dropMissing` method (the `condition` parameter, which indicates the condition under which data should be dropped) should be 'any' or 'all' (meaning that if 'any' of the data contains null values, then it should be dropped; or that if 'all' of the data contains null values, then it should be dropped).");function u(h){if(s>0){let c=0;for(let d=0;d<h.length;d++){let g=h[d];if(p(g)&&c++,c>=s)return[]}}else if(i==="any")for(let c=0;c<h.length;c++){let d=h[c];if(p(d))return[]}else if(i==="all"){for(let c=0;c<h.length;c++){let d=h[c];if(!p(d))return h}return[]}return h}let o=n.copy(),a=Math.random().toString();if(r===0){o=o.assign(a,o.index);let h=o.values.map(u).filter(d=>d.length>0);if(b(h).length<2)return new e;o.values=h;let c=o.get(null,a);if(p(c))return new e;D(c)&&(c=[c]),c instanceof t&&(c=c.values),o.index=c,o=o.drop(null,a)}else if(r===1){let h={};if(o.columns.forEach((d,g)=>{let v=o.values.map(C=>C[g]),A=u(v);A.length>0&&(h[d]=A)}),Object.keys(h).length+Object.getOwnPropertySymbols(h).length===0)return new e;let c=new e(h);return c.index=o.index,c}return o}function qe(e){if(w(e)||y(e))return e.dropNaN(...Object.values(arguments).slice(1));l(f(e),"The `dropNaN` function only works on arrays, Series, and DataFrames!");let t=[];return e.forEach(n=>{try{return t.push(qe(n))}catch{if(m(n))return t.push(n)}}),t}function En(e,t,n,r,i){n=n||0,l(n===0||n===1,"The first parameter of the `dropNaN` method (the `axis`) must be 0 or 1."),i=i||0,l(ne(i),"The third parameter of the `dropNaN` method (the `threshold`) should be a whole number (meaning that data should be dropped if it contains more than `threshold` NaN values)."),r=i>0?"none":r||"any",l(r==="any"||r==="all"||r==="none","The second parameter of the `dropNaN` method (the `condition` parameter, which indicates the condition under which data should be dropped) should be 'any' or 'all' (meaning that if 'any' of the data contains NaN values, then it should be dropped; or that if 'all' of the data contains NaN values, then it should be dropped).");function s(o){let a=qe(o);return i>0?o.length-a.length<i:r==="any"?a.length===o.length:r==="all"?a.length>0:!0}let u=t.copy();if(n===0){let o=u.index.filter(a=>{let h=u.get(a,null).values;return s(h)});return o.length>0?u.get(o,null):new e}else if(n===1){let o=u.columns.filter(a=>{let h=u.get(null,a).values;return s(h)});return o.length>0?u.get(null,o):new e}return u}function ft(e){let t={};return R(e).forEach((n,r)=>{t[n]=r}),t}function Q(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e)).sort((t,n)=>e[t]-e[n])}function Fn(e,t,n,r,i){l(S(r),"The `filter` method takes a single parameter: a function that is used to filter the values."),p(i)&&(i=0),l(i===0||i===1,"The `axis` parameter to the `filter` method must be 0 or 1.");let s=n.copy();if(s.isEmpty)return s;let u=ft(s.index),o=ft(s.columns);if(i===0){let a=0,h=s.values.filter((c,d)=>{let g=new t(c);g.name=n.index[d],g.index=n.columns;let v=r(g,d,n);return v?a++:delete u[s.index[d]],v});if(a===0)return new e;if(a===1){let c=new t(h[0]);return c.name=Q(u)[0],c.index=Q(o),c}s.values=h,s.index=Q(u)}else if(i===1){s=s.transpose();let a=0,h=s.values.filter((c,d)=>{let g=new t(c);g.name=n.columns[d],g.index=n.index;let v=r(g,d,n);return v?a++:delete o[s.index[d]],v});if(a===0)return new e;if(a===1){let c=new t(h[0]);return c.name=Q(o)[0],c.index=Q(u),c}s.values=h,s.index=Q(o),s=s.transpose()}return s}function Nn(e,t,n){(D(t)||m(t))&&(t=[t]),(D(n)||m(n))&&(n=[n]);for(let i in t)typeof t[i]=="bigint"&&(t[i]=Number(t[i]));for(let i in n)typeof n[i]=="bigint"&&(n[i]=Number(n[i]));let r=M((t||[]).concat(n||[]).map(i=>typeof i));return l(r.length<=2,"Only whole numbers and/or strings are allowed in `get` arrays!"),r.length===1&&l(r[0]==="string"||r[0]==="number","Only whole numbers and/or strings are allowed in `get` arrays!"),r.length===2&&(l(r.indexOf("string")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!"),l(r.indexOf("number")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!")),p(t)||(t=t.map(i=>{if(D(i))return l(e.index.indexOf(i)>-1,`Row "${i}" does not exist!`),i;if(m(i))return l(i>=0,`Index ${i} is out of bounds!`),l(Math.floor(i)===i,"Row numbers must be integers!"),l(i<e.index.length,`Index ${i} is out of bounds!`),e.index[i]})),p(n)||(n=n.map(i=>{if(D(i))return l(e.columns.indexOf(i)>-1,`Column "${i}" does not exist!`),i;if(m(i))return l(i>=0,`Column ${i} is out of bounds!`),l(Math.floor(i)===i,"Column numbers must be integers!"),l(i<e.columns.length,`Column ${i} is out of bounds!`),e.columns[i]})),e.getSubsetByNames(t,n)}function _n(e,t){try{return e<t?-1:e>t?1:0}catch{return e=typeof e=="object"&&e!==null?JSON.stringify(e):e.toString(),t=typeof t=="object"&&t!==null?JSON.stringify(t):t.toString(),e<t?-1:e>t?1:0}}function G(e,t){if(p(t)&&(t=_n),w(e)||y(e))return e.sort(...Object.values(arguments).slice(1));l(f(e),"The `sort` function only works on arrays, Series, and DataFrames!"),l(S(t),"The second parameter of the `sort` function must be a comparison function!");let n=e.slice();return n.sort(t),n}function An(e){let t=e.toLowerCase(),n="";for(let i=0;i<t.length;i++){let s=t[i];s.match(/[a-z0-9]/g)?n+=s:n+=" "}let r=n.split(" ").filter(i=>i.length>0);return r[0]+r.slice(1).map(i=>i[0].toUpperCase()+i.substring(1)).join("")}function dt(e,t,n){p(n)?n=t.columns:D(n)&&(n=[n]);let r={};n.forEach(s=>{l(D(s),"You must pass either a string or a one-dimensional array of strings into the `getDummies` (AKA `oneHotEncode`) method!");let u=t.columns.indexOf(s);l(u>-1,`The given DataFrame does not have a column called "${s}"!`);let o=t.values.map(h=>h[u]),a=G(M(o));o.forEach(h=>{a.forEach(c=>{let d=s+"_"+An(c.toString());r[d]||(r[d]=[]),h===c?r[d].push(1):r[d].push(0)})})});let i=new e(r);return i.index=t.index,i}function Sn(e,t,n){let r=e.shape;p(t)&&(t=_(0,r[0])),p(n)&&(n=_(0,r[1])),m(t)&&(t=[t]),m(n)&&(n=[n]),l(f(t)&&f(n),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),l(b(t).length===1&&b(n).length===1,"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),l(t.length>0,"The `rowIndices` array must contain at least one index."),l(n.length>0,"The `colIndices` array must contain at least one index."),t.forEach(u=>{l(ne(u),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),l(u<e.index.length,`The row index ${u} is out of bounds.`)}),n.forEach(u=>{l(ne(u),"The `rowIndices` and `colIndices` parameters must be 1-dimensional arrays of whole numbers."),l(u<e.columns.length,`The column index ${u} is out of bounds.`)});let i=t.map(u=>e.index[u]),s=n.map(u=>e.columns[u]);return e.getSubsetByNames(i,s)}function Cn(e,t,n,r,i){p(r)&&(r=n.index),p(i)&&(i=n.columns),D(r)&&(r=[r]),D(i)&&(i=[i]),l(f(r)&&f(i),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),l(b(r).length===1&&b(i).length===1,"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),l(r.length>0,"The `rows` array must contain at least one row name."),l(i.length>0,"The `cols` array must contain at least one column name."),r.forEach(o=>{l(D(o),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),l(n.index.indexOf(o)>-1,`The row name "${o}" does not exist in the list of rows.`)}),i.forEach(o=>{l(D(o),"The `rows` and `cols` parameters must be 1-dimensional arrays of strings."),l(n.columns.indexOf(o)>-1,`The column name "${o}" does not exist in the list of columns.`)});let s=r.map(o=>i.map(a=>n.values[n.index.indexOf(o)][n.columns.indexOf(a)]));if(r.length===1&&i.length===1)return s[0][0];if(r.length===1){let o=new t(s[0]);return o.name=r[0],o.index=i,o}if(i.length===1){let o=new t(s.map(a=>a[0]));return o.name=i[0],o.index=r,o}let u=new e(s);return u.columns=i,u.index=r,u}function On(e,t,n){function r(g,v){return D(g)&&g.length>v?g.substring(0,v-3)+"...":g}if(n.isEmpty)return console.table({}),console.log("Shape:",[0,0],`
`),n;let i=typeof window>"u"?20:10,s=Math.floor(i/2),u=typeof process>"u"?10:Math.floor(process.stdout.columns/24)-1,o=Math.floor(u/2),a=i>n.index.length?null:_(0,s).concat(_(n.index.length-s,n.index.length)),h=u>n.columns.length?null:_(0,o).concat(_(n.columns.length-o,n.columns.length)),c=n.get(a,h);c instanceof t&&(n.shape[0]===1?(c=new e([c.values]),c.index=n.index,c.columns=new t(n.columns).get(h).values):n.shape[1]===1&&(c=new e([c.values]).transpose(),c.index=new t(n.index).get(a).values,c.columns=n.columns)),i<=n.index.length&&(c._index.splice(s,0,"..."),c._values.splice(s,0,_(0,c.columns.length).map(()=>"..."))),u<=n.columns.length&&(c._columns.splice(o,0,"..."),c._values=c._values.map(g=>(g.splice(o,0,"..."),g)));let d=28;return c instanceof t?(c.values=c.values.map(g=>r(g,d)),c.name=r(c.name,d),c.index=c.index.map(g=>r(g,d))):(c.values=c.values.map(g=>g.map(v=>r(v,d))),c.columns=c.columns.map(g=>r(g,d)),c.index=c.index.map(g=>r(g,d))),console.table(c.toDetailedObject()),console.log("Shape:",n.shape,`
`),n}function x(e,t){l(m(e),"The `leftPad` function only works on numbers!");let n=e.toString();for(;n.length<t;)n="0"+n;return n}function Bn(e,t){let n=t?e:e.copy();return n.index=_(0,e.shape[0]).map(r=>"row"+x(r,(n.index.length-1).toString().length)),n}function de(e,t){if(w(e)||y(e))return de(e.values,t);l(f(e),"The `product` function only works on arrays, Series, and DataFrames!");try{if(e.length===0)return NaN;let n=R(e),r=!1,i=1;for(let s of n){if(!m(s))if(t)s=1;else return NaN;typeof s=="bigint"&&(r=!0,s=Number(s)),i*=s}if(r)try{return BigInt(i)}catch{}return i}catch{return NaN}}function Tn(e){return St(e)&&e>0}function ae(e,t){if(w(e)||y(e))return ae(e.values,t);if(l(f(e),"The first argument passed into the `reshape` function must be an array!"),m(t)&&(t=[t]),l(f(t),"The second argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!"),l(b(t).length===1,"The first argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!"),t=t.map(s=>(typeof s=="bigint"&&(s=Number(s)),l(Tn(s),"The first argument passed into the `reshape` function must be a whole number or a one-dimensional array of whole numbers!"),Number(s))),t.length===0)return R(e);let n=R(e);if(t.length===1&&t[0]===n.length)return n;l(de(t)===n.length,"The new shape doesn't match the number of values available in `x` (the first argument passed into the `reshape` function)!");let r=[],i=Math.floor(n.length/t[0]);for(let s=0;s<t[0];s++){let u=n.slice(s*i,(s+1)*i);r.push(ae(u,t.slice(1)))}return r}var Ct=Math.pow(2,64),F=[];Ot(Math.floor(Math.random()*Ct));function In(e,t){e=B(e);function n(){e+=B("0x9e3779b97f4a7c15");let i=O(e);return i=(i^i>>BigInt(30))*B("0xbf58476d1ce4e5b9"),i=(i^i>>BigInt(27))*B("0x94d049bb133111eb"),i^i>>BigInt(31)}let r=[];for(let i=0;i<t;i++)r.push(n());return r}function B(e){return BigInt.asUintN(64,BigInt(e))}function mt(e,t){return e=B(e),t=BigInt(t),B(B(e<<t)|B(e>>B(BigInt(64)-t)))}function Ot(e){if(typeof e=="bigint"&&(e=Number(e)),p(e))return O(F);{l(m(e),"If passing a value into the `seed` function, then that value must be an integer!");let t=In(Math.floor(e),4);F[0]=t[0],F[1]=t[1],F[2]=t[2],F[3]=t[3]}}function gt(){let e=B(mt(F[0]+F[3],23)+F[0]),t=B(F[1]<<BigInt(17));return F[2]=B(F[2]^F[0]),F[3]=B(F[3]^F[1]),F[1]=B(F[1]^F[2]),F[0]=B(F[0]^F[3]),F[2]=B(F[2]^t),F[3]=mt(F[3],45),Math.floor(Number(e))/Ct}function re(e){return p(e)?gt():(f(e)||(e=[e]),ae(k(de(e)).map(gt),e))}function Ne(e){if(w(e)||y(e))return e.shuffle(...Object.values(arguments).slice(1));l(f(e),"The `shuffle` function only works on arrays, Series, and DataFrames!");let t=[],n=e.slice();for(let r=0;r<e.length;r++){let i=Math.floor(re()*n.length);t.push(n.splice(i,1)[0])}return t}function jn(e,t){return p(t)&&(t=0),l(t===0||t===1,"The `axis` parameter to the `shuffle` must be 0, 1, or undefined."),e.get(t===0?Ne(e.index):null,t===1?Ne(e.columns):null)}function K(e){return typeof e=="boolean"}function Mn(e,t,n){return S(t)?kn(e,t,n):Ln(e,t,n)}function kn(e,t,n){if(n=p(n)?0:n,l(S(t),"When sorting a DataFrame using a function, the first argument to the `sort` method must be a function!"),l(m(n),"When sorting a DataFrame using a function, the second argument to the `sort` method must be null, undefined, 0, or 1 to indicate the axis along which the data should be sorted! An axis of 0 means that the rows will be sorted relative to each other, whereas an axis of 1 means that the columns will be sorted relative to each other."),n===0){let r=G(e.index,(i,s)=>t(e.get(i,null),e.get(s,null)));return e.get(r,null)}else{let r=G(e.columns,(i,s)=>t(e.get(null,i),e.get(null,s)));return e.get(null,r)}}function Ln(e,t,n){let r=e.copy(),i=re().toString();r=r.assign(i,r.index),p(t)&&(t=[i],n=[!0]),(m(t)||D(t))&&(t=[t],(K(n)||D(n))&&(n=[n])),l(f(t),"The first parameter of the `sort` method must be (1) a string or index representing a column name or index, respectively; (2) a 1-dimensional array of strings and/or indices; or (3) null."),l(b(t).length===1,"The first parameter of the `sort` method must be (1) a string or index representing a column name or index, respectively; (2) a 1-dimensional array of strings and/or indices; or (3) null."),p(n)&&(n=_(0,t.length).map(()=>!0)),l(f(n),"The second parameter of the `sort` method must be (1) a string or boolean representing the sort direction ('ascending' / 'descending', or true / false); (2) a 1-dimensional array of strings and/or booleans; or (3) null."),l(b(n).length===1,"The second parameter of the `sort` method must be (1) a string or boolean representing the sort direction ('ascending' / 'descending', or true / false); (2) a 1-dimensional array of strings and/or booleans; or (3) null."),l(t.length===n.length,"The arrays passed into the `sort` method must be equal in length."),t=t.map(u=>{if(l(D(u)||m(u),"Column references can either be column names (as strings) or column indices (as whole numbers)."),D(u)){let o=r.columns.indexOf(u);return l(o>-1,`The column "${u}" does not exist!`),o}if(m(u))return l(ne(u),"Column indices must be whole numbers!"),l(u<r.columns.length,`The index ${u} is out of bounds!`),u}),n=n.map(u=>{if(l(D(u)||K(u),"Direction references can either be strings ('ascending' or 'descending') or booleans (true or false)."),D(u)){let o=u.trim().toLowerCase();return l(o==="ascending"||o==="descending","Direction references can either be strings ('ascending' or 'descending') or booleans (true or false)."),o==="ascending"}if(K(u))return u}),r.values=G(r.values,(u,o)=>{let a=0;for(;u[t[a]]===o[t[a]]&&a<t.length;)a++;let h=n[a];if(u[t[a]]===o[t[a]])return 0;if(u[t[a]]<o[t[a]])return h?-1:1;if(u[t[a]]>o[t[a]])return h?1:-1});let s=r.columns.indexOf(i);return r.index=r.values.map(u=>u[s]),r=r.dropColumns(i),r}function Rn(e,t){p(t)?t=0:l(t===0||t===1,"The axis parameter of the `toDetailedObject` method must be undefined, 0, or 1. An axis of 0 indicates that the returned object should be organized first by rows and then by columns. An axis of 1 indicates that the returned object should be organized first by columns and then by rows.");let n={};return t===0?e.index.forEach((r,i)=>{let s={};e.columns.forEach((u,o)=>{s[u]=e.values[i][o]}),n[r]=s}):e.columns.forEach((r,i)=>{let s={};e.index.forEach((u,o)=>{s[u]=e.values[o][i]}),n[r]=s}),n}function Bt(e,t){return JSON.stringify(e.toObject(t))}async function Pn(e,t,n){let r=Bt(e,n),i=!1,s=!1,u,o;try{let a=t;if(t.includes("/")){let c=t.split("/");a=c[c.length-1]}let h=document.createElement("a");h.href=`data:application/json;charset=utf-8,${encodeURIComponent(r)}`,h.download=a,h.dispatchEvent(new MouseEvent("click")),i=!0}catch(a){u=a}try{let a=await import("node:fs"),h=await import("node:path");a.writeFileSync(h.resolve(t),r,"utf8"),s=!0}catch(a){o=a}if(!i&&!s)throw typeof window<"u"?new V(u):typeof module<"u"?new V(o):new V("I don't know what's going wrong, but it doesn't seem like you're in Node or the browser, and we couldn't download and/or write the file to disk!");return e}function zn(e){let t={};return e.columns.forEach(n=>{t[n]=e.get(n).values}),t}function W(e){if(w(e)||y(e))return e.transpose();l(f(e),"The `transpose` function only works on arrays, Series, and DataFrames!");let t=b(e);if(l(t.length<=2,"I'm not smart enough to know how to transpose arrays that have more than 2 dimensions. Sorry for the inconvenience! Please only pass 1- or 2-dimensional arrays into the `transpose` function!"),t.length===1)return P(e);if(t.length===2){let n=k(P(t));for(let r=0;r<t[0];r++)for(let i=0;i<t[1];i++)n[i][r]=e[r][i];return n}}function Tt(e,t,n){if(y(n))return new e(t.values.concat(n.values));if(f(n)){let r=b(n);l(r.length===1&&!Be(r),"Only vectors can be appended to Series!");let i=t.copy();return n.forEach((s,u)=>{i._values.push(s),i._index.push("item"+(t.values.length+u))}),i}return Tt(t,[n])}function Hn(e,t){l(S(t),"The parameter to the `apply` method must be a function.");let n=e.copy();return n._values=n._values.map((r,i)=>t(r,i)),n}function Jn(e){let t=e.copy(),n=[];return t._values=t.values.filter((r,i)=>p(r)?!1:(n.push(t.index[i]),!0)),t._index=n,t}function Yn(e,t){let n=[],r=[];t.values.forEach((s,u)=>{m(s)&&(r.push(s),n.push(t.index[u]))});let i=new e(r);return i.name=t.name,i.index=n,i}function $n(e,t,n){let r=t.copy(),i=O(r.index),s=[],u=r.values.filter((o,a)=>{let h=n(o,a,r.values);return h||s.push(r.index[a]),h});return s.forEach(o=>{i.splice(i.indexOf(o),1)}),u.length===0?(r=new e,r.name=t.name,r):(r.values=u,r.index=i,r)}function Wn(e,t){(D(t)||m(t))&&(t=[t]);for(let r in t)typeof t[r]=="bigint"&&(t[r]=Number(t[r]));let n=M((t||[]).map(r=>typeof r));return l(n.length<=2,"Only whole numbers and/or strings are allowed in `get` arrays!"),n.length===1&&l(n[0]==="string"||n[0]==="number","Only whole numbers and/or strings are allowed in `get` arrays!"),n.length===2&&(l(n.indexOf("string")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!"),l(n.indexOf("number")>-1,"Only whole numbers and/or strings are allowed in `get` arrays!")),p(t)||(t=t.map(r=>{if(typeof r=="string")return l(e.index.indexOf(r)>-1,`Index "${r}" does not exist!`),r;if(typeof r=="number")return l(r>=0,`Index ${r} is out of bounds!`),l(Math.floor(r)===r,"Indices must be integers!"),l(r<e.index.length,`Index ${r} is out of bounds!`),e.index[r]})),e.getSubsetByNames(t)}function Un(e,t){let n=e.shape;p(t)&&(t=_(0,n[0])),l(f(t),"The `indices` array must be 1-dimensional array of whole numbers."),l(b(t).length===1,"The `indices` array must be a 1-dimensional array of whole numbers."),l(t.length>0,"The `indices` array must contain at least one index."),t.forEach(i=>{l(ne(i),"The `indices` array must be a 1-dimensional array of whole numbers."),l(i<e.index.length,`The row index ${i} is out of bounds.`)});let r=t.map(i=>e.index[i]);return e.getSubsetByNames(r)}function Vn(e,t,n){p(n)&&(n=t.index),l(f(n),"The `indices` array must be a 1-dimensional array of strings."),l(b(n).length===1,"The `indices` array must be a 1-dimensional array of strings."),l(n.length>0,"The `indices` array must contain at least one index name."),n.forEach(s=>{l(D(s),"The `indices` array must contain only strings."),l(t.index.indexOf(s)>-1,`The name "${s}" does not exist in the index.`)});let r=n.map(s=>t.values[t.index.indexOf(s)]);if(r.length===1)return r[0];let i=new e(r);return i.index=n,i.name=t.name,i}function Kn(e){let t=e.copy(),n=typeof window>"u"?20:10;if(t.index.length>n){t=t.get(_(0,n/2).concat(_(t.index.length-n/2,t.index.length)));let i=O(t.index);i.splice(Math.floor(i.length/2),0,"..."),t.values.push("..."),t.index.push("..."),t=t.get(i)}let r={};return t.values.forEach((i,s)=>{let u={};u[t.name]=i,r[t.index[s]]=u}),console.table(r),console.log("Shape:",e.shape,`
`),e}function qn(e){let t=e.copy();return t.get(Ne(t.index))}function Gn(e,t,n){n=n||((a,h)=>a<h?-1:1),l(p(n)||S(n),"You must pass undefined, null, or a comparison function as the second argument to the `sort` method!");let r=W([t.values,t.index]),i=G(r,(a,h)=>n(a[0],h[0])),s=[],u=[];i.forEach(a=>{s.push(a[0]),u.push(a[1])});let o=new e;return o._values=s,o._index=u,o.name=t.name,o}function Xn(e,t){let n=W([t.values,t.index]);n=W(G(n,(i,s)=>{if(i[1]===s[1])return 0;if(i[1]<s[1])return-1;if(i[1]>s[1])return 1}));let r=new e(n[0]);return r.index=n[1],r.name=t.name,r}function Zn(e){let t={};return t[e.name]={},e.index.forEach((n,r)=>{t[e.name][n]=e.values[r]}),t}var pt=Symbol.for("@jrc03c/js-math-tools/series");function Qn(e){class t{static[Symbol.hasInstance](r){try{return!!r._symbol&&r._symbol===pt}catch{return!1}}constructor(r){if(this.name="data",Object.defineProperty(this,"_symbol",{configurable:!1,enumerable:!1,writable:!1,value:pt}),Object.defineProperty(this,"_values",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(this,"values",{configurable:!0,enumerable:!0,get(){return this._values},set(i){l(f(i),"The new values must be a 1-dimensional array!");let s=b(i);l(s.length===1,"The new array of values must be 1-dimensional!"),s[0]<this._index.length?this._index=this._index.slice(0,s[0]):s[0]>this._index.length&&(this._index=this._index.concat(_(this._index.length,s[0]).map(u=>"item"+x(u,(i.length-1).toString().length)))),this._values=i}}),Object.defineProperty(this,"_index",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(this,"index",{configurable:!0,enumerable:!0,get(){return this._index},set(i){l(f(i),"The new index must be a 1-dimensional array of strings!"),l(i.length===this.shape[0],"The new index must be the same length as the old index!"),l(b(i).length===1,"The new index must be a 1-dimensional array of strings!"),i.forEach(s=>{l(D(s),"All of the row names must be strings!")}),this._index=i}}),r){if(r instanceof t)this.name=r.name,this.values=O(r.values),this.index=O(r.index);else if(f(r)){let i=b(r);l(i.length===1,"When passing an array into the constructor of a Series, the array must be 1-dimensional!"),this.values=r}else if(r instanceof Object){let i=Object.keys(r).concat(Object.getOwnPropertySymbols(r)).map(o=>o.toString());l(i.length===1,"When passing an object into the constructor of a Series, the object must have only 1 key-value pair, where the key is the name of the data and the value is the 1-dimensional array of values!");let s=i[0],u=r[s];l(b(u).length===1,"When passing an object into the constructor of a Series, the object must have only 1 key-value pair, where the key is the name of the data and the value is the 1-dimensional array of values!"),this.name=s,this.values=u.slice()}}}get shape(){return b(this.values)}get length(){return this.shape[0]}get isEmpty(){return this.values.filter(r=>!p(r)).length===0}clear(){let r=this.copy();return r.values.forEach((i,s)=>{r.values[s]=void 0}),r}get(r){return Wn(this,r)}getSubsetByNames(r){return Vn(t,this,r)}getSubsetByIndices(r){return Un(this,r)}loc(r){return this.getSubsetByNames(r)}iloc(r){return this.getSubsetByIndices(r)}reverse(){let r=new t(P(this.values));return r.index=P(this.index),r.name=this.name,r}resetIndex(){let r=this.copy();return r.index=_(0,this.shape[0]).map(i=>"item"+x(i,(r.index.length-1).toString().length)),r}copy(){let r=new t;return r._values=O(this.values),r._index=O(this.index),r.name=this.name,r}append(r){return Tt(t,this,r)}apply(r){return Hn(this,r)}concat(r){return this.append(r)}dropMissing(r,i){return Jn(this,r,i)}dropNaN(){return Yn(t,this)}toObject(){return Zn(this)}print(){return Kn(this)}shuffle(){return qn(this)}sort(r){return Gn(t,this,r)}sortByIndex(){return Xn(t,this)}filter(r){return $n(t,this,r)}toDataFrame(){let r=new e(W([this.values]));return r.columns=[this.name],r.index=this.index,r}transpose(){let r=this.copy();return r.values=P(r.values),r.index=P(r.index),r}getDummies(){return this.toDataFrame().getDummies()}oneHotEncode(){return this.getDummies()}}return t}var yt=Symbol.for("@jrc03c/js-math-tools/dataframe");function ye(e){let t="abcdefghijklmnopqrstuvwxyz1234567890",n="";for(let r=0;r<e;r++)n+=t[Math.floor(re()*t.length)];return n}var N=class{static[Symbol.hasInstance](e){try{return!!e._symbol&&e._symbol===yt}catch{return!1}}constructor(e){if(Object.defineProperty(this,"_symbol",{configurable:!1,enumerable:!1,writable:!1,value:yt}),Object.defineProperty(this,"_values",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(this,"values",{configurable:!0,enumerable:!0,get(){return this._values.length===0||!p(this._values[0])&&this._values[0].length===0?[[]]:this._values},set(t){l(f(t),"The new values must be a 2-dimensional array!");let n=b(t);l(n.length===2,"The new array of values must be 2-dimensional!"),n[0]<this._index.length?this._index=this._index.slice(0,n[0]):n[0]>this._index.length&&(this._index=this._index.concat(_(this._index.length,n[0]).map(r=>"row"+x(r,(n[0]-1).toString().length)))),n[1]<this._columns.length?this._columns=this._columns.slice(0,n[1]):n[1]>this._columns.length&&(this._columns=this._columns.concat(_(this._columns.length,n[1]).map(r=>"col"+x(r,(n[1]-1).toString().length)))),this._values=t}}),Object.defineProperty(this,"_columns",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(this,"columns",{configurable:!0,enumerable:!0,get(){return this._columns},set(t){l(f(t),"The new columns list must be a 1-dimensional array of strings!"),l(this.isEmpty||t.length===this.shape[1],"The new columns list must be the same length as the old columns list!"),l(b(t).length===1,"The new columns list must be a 1-dimensional array of strings!"),t=t.map(r=>(typeof r!="string"&&(r=JSON.stringify(r)||r.toString()),r.trim().length===0?"untitled_"+ye(8):r.trim()));let n=(()=>{let r=Fe(t),i={};return r.values.forEach(s=>{i[s]=r.get(s)}),i})();t=t.map(r=>n[r]>1?r+"_"+ye(8):r),this._columns=t}}),Object.defineProperty(this,"_index",{value:[],configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(this,"index",{configurable:!0,enumerable:!0,get(){return this._index},set(t){l(f(t),"The new index must be a 1-dimensional array of strings!"),l(this.isEmpty||t.length===this.shape[0],"The new index must be the same length as the old index!"),l(b(t).length===1,"The new index must be a 1-dimensional array of strings!"),t=t.map(r=>(typeof r!="string"&&(r=JSON.stringify(r)||r.toString()),r.trim().length===0?"untitled_"+ye(8):r.trim()));let n=(()=>{let r=Fe(t),i={};return r.values.forEach(s=>{i[s]=r.get(s)}),i})();t=t.map(r=>n[r]>1?r+"_"+ye(8):r),this._index=t}}),l(p(e)||z(e)||f(e),"The `data` passed into the constructor of a DataFrame must be either (1) an object where the key-value pairs are (respectively) column names and 1-dimensional arrays of values, or (2) a 2-dimensional array of values."),e)if(e instanceof N)this.values=O(e.values),this.columns=O(e.columns),this.index=O(e.index);else if(f(e)){let t=b(e);l(t.length===2,"The `data` array passed into the constructor of a DataFrame must be 2-dimensional!"),l(!ce(e),"The 2-dimensional array passed into the constructor of a DataFrame must not contain sub-arrays (i.e., rows) of different lengths!"),this.values=e}else{this._columns=Object.keys(e).concat(Object.getOwnPropertySymbols(e)).map(s=>s.toString());let t=[],n=null,r=null;this._columns.forEach(s=>{p(r)&&(n=s,r=e[s].length),l(e[s].length===r,`The object passed into the DataFrame constructor contains arrays of different lengths! The key "${n}" points to an array containing ${r} items, and the key "${s}" points to an array containing ${e[s].length} items.`),r=e[s].length;let u=e[s];t.push(u)}),this._values=W(t);let i=b(this.values);this._index=_(0,i[0]).map(s=>"row"+x(s,(i[0]-1).toString().length))}}get shape(){return b(this.values)}get length(){return this.shape[0]}get width(){return this.shape[1]}get rows(){return this.index}set rows(e){this.index=e}get isEmpty(){return this.values.length===0||this.values.every(e=>e.length===0)}clear(){let e=new N(k(this.shape));return e.columns=this.columns.slice(),e.index=this.index.slice(),e}get(e,t){if(arguments.length===0)return this;if(arguments.length===1)try{return this.get(null,e)}catch{return this.get(e,null)}return Nn(this,e,t)}getSubsetByNames(e,t){return Cn(N,T,this,e,t)}getSubsetByIndices(e,t){return Sn(this,e,t)}getDummies(e){return dt(N,this,e)}oneHotEncode(e){return dt(N,this,e)}transpose(){let e=new N(W(this.values));return e.columns=this.index.slice(),e.index=this.columns.slice(),e}get T(){return this.transpose()}resetIndex(e){return Bn(this,e)}copy(){return wn(N,this)}assign(e,t){return bn(N,T,this,e,t)}apply(e,t){return yn(N,T,this,e,t)}dropMissing(e,t,n){return Dn(N,T,this,e,t,n)}dropNaN(e,t,n){return En(N,this,e,t,n)}drop(e,t){return vn(N,T,this,e,t)}dropColumns(e){return this.drop(null,e)}dropRows(e){return this.drop(e,null)}toDetailedObject(e){return Rn(this,e)}toObject(){return zn(this)}toJSONString(e){return Bt(this,e)}saveAsJSON(e,t){return Pn(this,e,t)}print(){return On(N,T,this)}sort(e,t){return Mn(this,e,t)}sortByIndex(){return this.sort()}filter(e,t){return Fn(N,T,this,e,t)}shuffle(e){return jn(this,e)}append(e,t){return At(this,e,t)}concat(e,t){return this.append(e,t)}join(e,t){return this.append(e,t)}toString(){return JSON.stringify(this)}},T=Qn(N);function Te(e,t){return j(e,{shouldDropNaNs:t}).max}function E(e){return l(S(e),"You must pass a function into the `vectorize` function!"),function t(){let n,r,i=[],s=[],u=Object.keys(arguments).filter(o=>{let a=arguments[o];return f(a)?!0:y(a)?(n=!0,i.push(a),!0):w(a)?(r=!0,s.push(a),!0):!1}).map(o=>arguments[o]);if(u.slice(0,-1).forEach((o,a)=>{l(H(f(o)?b(o):o.shape,f(u[a+1])?b(u[a+1]):u[a+1].shape),`When passing multiple arrays into the \`${e.name}\` function, all of the arrays must have the same shape!`)}),u.length>0){let o=Te(u.map(h=>h.length?h.length:h.values.length)),a=_(0,o).map(h=>{let c=Object.keys(arguments).map(d=>f(arguments[d])?arguments[d][h]:y(arguments[d])||w(arguments[d])?arguments[d].values[h]:arguments[d]);return t(...c)});if(r)try{if(s.length===1&&H(b(s[0]),b(a))){let h=new N(a);return h.index=s[0].index.slice(),h.columns=s[0].columns.slice(),h}else return new N(a)}catch{return a}if(n)try{if(i.length===1&&i[0].length===a.length){let h=new T(a);return h.name=i[0].name,h.index=i[0].index.slice(),h}else return new T(a)}catch{return a}return a}else return e(...arguments)}}function xn(e){try{return m(e)?typeof e=="bigint"?e<0?-e:e:Math.abs(e):NaN}catch{return NaN}}var Ge=E(xn);function er(){try{let e=0,t=!1,n=Object.values(arguments);for(let r of n){if(!m(r))return NaN;typeof r=="bigint"&&(t=!0,r=Number(r)),e+=r}if(t)try{return BigInt(e)}catch{}return e}catch{return NaN}}var _e=E(er);function tr(e,t){try{return t(e)}catch{return NaN}}var Ie=E(tr);function nr(e){try{return m(e)?(typeof e=="bigint"&&(e=Number(e)),Math.acos(e)):NaN}catch{return NaN}}var rr=E(nr);function ir(e){try{return m(e)?(typeof e=="bigint"&&(e=Number(e)),Math.asin(e)):NaN}catch{return NaN}}var sr=E(ir);function ur(e){try{return m(e)?(typeof e=="bigint"&&(e=Number(e)),Math.atan(e)):NaN}catch{return NaN}}var or=E(ur);function Re(e,t){if(w(e)){let n=Re(e.values,t);return[e.index[n[0]],e.columns[n[1]]]}if(y(e)){let n=Re(e.values,t);return e.index[n]}l(f(e),"The `argmax` function only works on arrays, Series, and DataFrames!");try{let n=te(e,Te(e,t));return n?n.length===0?void 0:n.length===1?n[0]:n:void 0}catch{return}}function It(e,t){return j(e,{shouldDropNaNs:t}).min}function Pe(e,t){if(w(e)){let n=Pe(e.values,t);return[e.index[n[0]],e.columns[n[1]]]}if(y(e)){let n=Pe(e.values,t);return e.index[n]}l(f(e),"The `argmin` function only works on arrays, Series, and DataFrames!");try{let n=te(e,It(e,t));return n?n.length===0?void 0:n.length===1?n[0]:n:void 0}catch{return}}function I(e,t){if(w(e)||y(e))return e.apply(n=>I(n,t));if(f(e))return e.map(n=>I(n,t));if(t==="null")return null;if(t==="number"){if(p(e))return NaN;let n=I(e,"boolean");if(K(n))return n?1:0;try{JSON.parse(e)}catch{let s=I(e,"date");if(L(s))return s.getTime()}let r=parseFloat(e);return isNaN(r)?NaN:r}if(t==="int"){let n=I(e,"number");return n>=0?Math.floor(n):Math.ceil(n)}if(t==="float")return I(e,"number");if(t==="bigint")return typeof e=="bigint"?e:BigInt(I(e,"int"));if(t==="boolean"){if(K(e))return e;if(m(e))return e===0?!1:e===1?!0:null;try{let n=(typeof e=="object"?e.toString()==="null"?"false":JSON.stringify(e):e.toString()).trim().toLowerCase();return n==="true"||n==="yes"||n==="y"?!0:n==="false"||n==="no"||n==="n"?!1:null}catch{return null}}if(t==="date"){if(L(e))return e;if(p(e))return null;let n=parseFloat(e);if(!isNaN(n)){let i=new Date(e);return L(i)?i:null}let r=Date.parse(e);return isNaN(r)?null:new Date(r)}if(t==="object"){if(z(e))return e;let n=I(e,"boolean");if(K(n))return null;try{let i=I(e,"number");if(m(i))return JSON.parse(e),null}catch{}let r=I(e,"date");if(r)return r;try{let i=JSON.parse(e);return f(i)?i.map(s=>I(s,t)):i}catch{return null}}if(t==="string")return p(e)?H(e,void 0)?"undefined":"null":e instanceof Date?e.toJSON():typeof e=="object"?e===null?"null":JSON.stringify(e):e.toString()}function ar(e){try{return m(e)?typeof e=="bigint"?e:Math.ceil(e):NaN}catch{return NaN}}var lr=E(ar);function hr(e,t){try{if(!m(e))return NaN;if(typeof e=="bigint")return e;if(p(t))t=1e-10;else if(!m(t))return NaN;return Ge(e)<t?0:e}catch{return NaN}}var cr=E(hr);function ze(e){if(w(e)||y(e)){let t=e.copy();return t.values=ze(t.values),t}if(f(e))return e.map(t=>ze(t));try{let t=JSON.parse(e);return m(t)?typeof t=="bigint"?Number(t):t>=0?Math.floor(t):Math.ceil(t):NaN}catch{return NaN}}var J=E(ze);function jt(e,t,n){try{return m(e)?m(t)?m(n)?typeof e=="bigint"?BigInt(jt(J(e),t,n)):e<t?t:e>n?n:e:NaN:NaN:NaN}catch{return NaN}}var fr=E(jt);function Ae(e,t){function*n(r,i){if(i>r.length)yield r;else if(i<=0)yield[];else if(r.length<2)yield r;else for(let s=0;s<r.length;s++){let u=r[s],o=r.slice(s+1);if(!(o.length<i-1)&&i-1>=0)for(let a of Ae(o,i-1))yield[u].concat(a)}}return w(e)||y(e)?Ae(e.values,t):(l(f(e),"The `combinations` function only works on arrays, Series, and DataFrames!"),l(m(t)&&J(t)===t&&t>=0,"`r` must be a non-negative integer!"),n(R(e),t))}function Mt(e,t){let n=[];for(let r of Ae(e,t))n.push(r.slice());return n}function kt(){let e=Object.values(arguments).map(n=>w(n)||y(n)?M(n.values):(l(f(n),"The `intersect` function only works on arrays, Series, and DataFrames!"),M(n)));return M(e).filter(n=>e.every(r=>r.findIndex(i=>H(i,n))>-1))}var se=class{constructor(e){l(p(e)||e===se.DROP_NAN_MODE||e===se.DROP_MISSING_MODE,"The `mode` value passed into the `IndexMatcher` constructor must be undefined or one of [IndexMatcher.DROP_NAN_MODE, IndexMatcher.DROP_MISSING_MODE]! (By default, the mode is `Indexer.DROP_MISSING_MODE`.)"),this.mode=p(e)?se.DROP_NAN_MODE:e,this.index=null}fit(){let e=[];return Object.values(arguments).forEach(t=>{if(f(t)){let n=b(t);if(n.length===1)t=new T(t);else if(n.length===2)t=new N(t);else throw new Error("The `IndexMatcher.fit` method only works on arrays, Series, and DataFrames!")}l(w(t)||y(t),"The `IndexMatcher.fit` method only works on arrays, Series, and DataFrames!"),this.mode===se.DROP_MISSING_MODE?e.push(t.dropMissing().index):e.push(t.dropNaN().index)}),this.index=kt(...e),this}transform(){l(!!this.index,"The IndexMatcher hasn't been fitted yet! Please call the `fit` method before calling the `transform` method.");let e=Object.values(arguments).map(t=>{if(f(t)){let n=b(t);if(n.length===1)return new T(t).get(this.index).values;if(n.length===2)return new N(t).get(this.index,null).values;throw new Error("The `IndexMatcher.fit` method only works on arrays, Series, and DataFrames!")}return l(w(t)||y(t),"The `IndexMatcher.fit` method only works on arrays, Series, and DataFrames!"),t.get(this.index,null)});return e.length===1?e[0]:e}fitAndTransform(){return this.fit(...arguments).transform(...arguments)}},je=se;Ft(je,"DROP_NAN_MODE","DROP_NAN_MODE");Ft(je,"DROP_MISSING_MODE","DROP_MISSING_MODE");function oe(e,t,n,r){if(y(e))return oe(e.values,t,n,r);if(y(t))return oe(e,t.values,n,r);if(l(f(e)&&f(t)&&b(e).length===1&&b(t).length===1,"The `covariance` function only works on 1-dimensional arrays and Series!"),l(e.length===t.length,"The two arrays or Series passed into the `covariance` function must have the same length!"),n)return oe(...new je().fitAndTransform(e,t),!1,r);try{let i=j(e,{stdev:r}),s=j(t,{stdev:r}),u=Number(i.mean),o=Number(s.mean);if(!m(u)||!m(o))return NaN;let a=Math.max(e.length,t.length),h=0;for(let c=0;c<a;c++){let d=e[c],g=t[c];if(!m(d))return NaN;if(!m(g))return NaN;typeof d=="bigint"&&(d=Number(d)),typeof g=="bigint"&&(g=Number(g)),h+=(d-u)*(g-o)}return r?[h/e.length,i,s]:h/e.length}catch{return NaN}}function He(e,t,n){if(y(e))return He(e.values,t,n);if(y(t))return He(e,t.values,n);l(f(e)&&f(t)&&b(e).length===1&&b(t).length===1,"The `correl` function only works on 1-dimensional arrays and Series!"),l(e.length===t.length,"The two arrays or Series passed into the `correl` function must have the same length!");try{let[i,s,u]=oe(e,t,n,!0),o=s.stdev*u.stdev;return i/o}catch{return NaN}}function dr(e){try{return m(e)?(typeof e=="bigint"&&(e=Number(e)),Math.cos(e)):NaN}catch{return NaN}}var mr=E(dr),gr=Object.freeze({boolean:"boolean",date:"date",null:"null",number:"number",object:"object",string:"string"});function Je(e,t){if(w(e)||y(e))return Je(e.values,t);if(w(t)||y(t))return Je(e,t.values);l(f(e)&&f(t),"The `diff` function only works on arrays, Series, and DataFrames!");let n=M(e),r=M(t),i=[];return n.forEach(s=>{r.findIndex(u=>H(u,s))<0&&i.push(s)}),i}function Lt(e,t){try{if(!m(e))return NaN;if(!m(t))return NaN;if(typeof e=="bigint"||typeof t=="bigint"){let n=Lt(Number(e),Number(t));try{return BigInt(n)}catch{return n}}return Math.pow(e,t)}catch{return NaN}}var Xe=E(Lt);function Rt(e){try{if(!m(e))return NaN;if(typeof e=="bigint"){let t=Rt(Number(e));try{return BigInt(t)}catch{return t}}return Math.sqrt(e)}catch{return NaN}}var Pt=E(Rt);function pr(){try{let e=Object.values(arguments);if(e.length===0)return NaN;let t=!1,n=1;for(let r of e){if(!m(r))return NaN;typeof r=="bigint"&&(t=!0,r=Number(r)),n*=r}if(t)try{return BigInt(n)}catch{}return n}catch{return NaN}}var zt=E(pr);function ie(){return zt(...arguments)}function Ht(e,t){return _e(e,ie(t,-1))}function Ze(e,t){return j(e,{shouldDropNaNs:t}).sum}function Ye(e,t){if(m(e)&&m(t))return Ge(e-t);if(w(e)||y(e))return Ye(e.values,t);if(w(t)||y(t))return Ye(e,t.values);f(e)&&f(t)&&l(H(b(e),b(t)),"If passing two arrays, Series, or DataFrames into the `distance` function, then those objects must have the same shape!");try{return Pt(Ze(Xe(Ht(e,t),2)))}catch{return NaN}}function yr(e,t){return ie(e,Xe(t,-1))}function $(e,t){if(w(e)){let i=$(e.values,t);if(b(i).length===1){let s=new T(i);return s.name=y(t)?t.name:s.name,s.index=e.index.slice(),s}else{let s=new N(i);return s.index=e.index.slice(),w(t)&&(s.columns=t.columns.slice()),s}}if(w(t)){let i=$(e,t.values);if(b(i).length===1){let s=new T(i);return s.name=y(e)?e.name:s.name,s.index=t.columns.slice(),s}else{let s=new N(i);return s.columns=t.columns.slice(),s}}if(y(e))return $(e.values,t);if(y(t))return $(e,t.values);l(f(e)&&f(t),"The `dot` function only works on arrays, Series, and DataFrames!");let n=b(e),r=b(t);if(l(n.length<=2&&r.length<=2,"I'm not smart enough to know how to get the dot-product of arrays that have more than 2 dimensions. Sorry for the inconvenience! Please only pass 1- or 2-dimensional arrays into the `dot` function!"),l(n[n.length-1]===r[0],`There's a dimension misalignment in the two arrays you passed into the \`dot\` function. (${n[n.length-1]} !== ${r[0]})`),n.length===1&&r.length===1)return Ze(ie(e,t));if(n.length===1&&r.length===2)return W(t).map(i=>$(e,i));if(n.length===2&&r.length===1)return e.map(i=>$(i,t));if(n.length===2&&r.length===2){let i=W(t),s=[];for(let u=0;u<e.length;u++){let o=[];for(let a=0;a<i.length;a++)o.push($(e[u],i[a]));s.push(o)}return s}}function Qe(e){if(w(e)||y(e))return e.dropMissing(...Object.values(arguments).slice(1));l(f(e),"The `dropMissing` function only works on arrays, Series, and DataFrames!");let t=[];return e.forEach(n=>{try{return t.push(Qe(n))}catch{p(n)||t.push(n)}}),t}function we(e,t){if(w(e)||y(e))return we(e.values,t);if(w(t)||y(t))return we(e,t.values);l(f(e)&&f(t),"The `dropMissingPairwise` function only works on arrays, Series, and DataFrames!"),l(H(b(e),b(t)),"The two arrays, Series, and/or DataFrames passed into the `dropMissingPairwise` function must have the same shape!");let n=[],r=[];for(let i=0;i<e.length;i++)try{let[s,u]=we(e[i],t[i]);n.push(s),r.push(u)}catch{!p(e[i])&&!p(t[i])&&(n.push(e[i]),r.push(t[i]))}return[n,r]}function ve(e,t){if(w(e)||y(e))return ve(e.values,t);if(w(t)||y(t))return ve(e,t.values);l(f(e)&&f(t),"The `dropNaNPairwise` only works on arrays, Series, and DataFrames!"),l(H(b(e),b(t)),"The two arrays, Series, and/or DataFrames passed into the `dropNaNPairwise` must have the same shape!");let n=[],r=[];for(let i=0;i<e.length;i++)try{let[s,u]=ve(e[i],t[i]);n.push(s),r.push(u)}catch{m(e[i])&&m(t[i])&&(n.push(e[i]),r.push(t[i]))}return[n,r]}function br(e){return Qe(e)}function Se(e,t){if(w(e)||y(e))return Se(e.values,t);l(f(e),"The first argument passed into the `every` function must be an array, Series, or DataFrame!"),l(S(t),"The second argument passed into the `every` function must be a function!");for(let n of e)if(f(n)){if(!Se(n,t))return!1}else if(!t(n))return!1;return!0}function wr(e){try{if(!m(e))return NaN;if(typeof e=="bigint"){if(e===0n)return 1n;e=Number(e)}return Math.exp(e)}catch{return NaN}}var vr=E(wr);function $e(e){try{return typeof e=="bigint"?BigInt($e(J(e))):e!==J(e)?NaN:e<=1?1:e*$e(e-1)}catch{return NaN}}var Dr=E($e);function We(e,t){if(w(e)||y(e))return We(e.values,t);if(l(z(e)||f(e),"You must pass (1) an object, array, Series, or DataFrame and (2) a function or value into the `find` function!"),!S(t)){let i=t;t=s=>s===i}function n(i,s,u){if(u=u||[],u.indexOf(i)>-1)return null;if(z(i)){u.push(i);let o=Object.keys(i).concat(Object.getOwnPropertySymbols(i));for(let a=0;a<o.length;a++){let h=o[a],c=i[h];if(s(c))return c;let d=n(c,s,u);if(d)return d}}else if(f(i)){u.push(i);for(let o=0;o<i.length;o++){let a=i[o];if(s(a))return a;let h=n(a,s,u);if(h)return h}}else if(s(i))return i;return null}function r(i){try{return t(i)}catch{return!1}}return n(e,r)}function Ue(e,t){if(w(e)||y(e))return Ue(e.values,t);if(l(z(e)||f(e),"You must pass (1) an object, array, Series, or DataFrame and (2) a function or value into the `findAll` function!"),!S(t)){let s=t;t=u=>u===s}function n(s,u,o){if(o=o||[],o.indexOf(s)>-1)return null;if(z(s)){o.push(s);let a=Object.keys(s).concat(Object.getOwnPropertySymbols(s)),h=[];for(let c=0;c<a.length;c++){let d=a[c],g=s[d],v=!1;u(g)&&(h.push(g),v=!0);let A=n(g,u,o);A&&A.length>0&&A.slice(v?1:0).forEach(C=>h.push(C))}return h}else if(f(s)){o.push(s);let a=[];for(let h=0;h<s.length;h++){let c=s[h],d=!1;u(c)&&(a.push(c),d=!0);let g=n(c,u,o);g&&g.length>0&&g.slice(d?1:0).forEach(v=>a.push(v))}return a}else if(u(s))return[s];return null}function r(s){try{return t(s)}catch{return!1}}let i=n(e,r);return i&&i.length>0?i:null}function Er(e){try{if(e==="Infinity")return 1/0;if(e==="-Infinity")return-1/0;let t=JSON.parse(e);return m(t)?t:NaN}catch{return NaN}}var Fr=E(Er);function Nr(e){try{return m(e)?typeof e=="bigint"?e:Math.floor(e):NaN}catch{return NaN}}var _r=E(Nr);function xe(e){m(e)&&(e=[e]);let t=[],n=de(e);for(let r=0;r<n;r++)t.push(0);return ae(t,e)}function Ar(e){typeof e=="bigint"&&(e=J(e)),l(!p(e),"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),l(m(e),"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),l(J(e)===e,"You must pass an integer greater than 0 (representing the size) into the `identity` function!"),l(e>0,"You must pass an integer greater than 0 (representing the size) into the `identity` function!");let t=xe([e,e]);for(let n=0;n<e;n++)t[n][n]=1;return t}var Sr=["true","false","yes","no"],Cr=["null","none","nan","na","n/a","","undefined"];function be(e){return e.type==="number"&&(typeof e.value<"u"?e.isInteger=J(e.value)===e.value:e.isInteger=Se(e.values,t=>m(t)?J(t)===t:!0)),e}function De(e){if(w(e)){let s=e.copy(),u=De(e.values);return s.values=u.values,be({type:u.type,values:s})}if(y(e)){let s=e.copy(),u=De(e.values);return s.values=u.values,be({type:u.type,values:s})}if(!f(e)){let s=De([e]);return s.value=s.values[0],delete s.values,be(s)}l(f(e),"The `inferType` function only works on arrays, Series, and DataFrames!");let t=R(e).map(s=>{if(s===void 0)return"null";try{if(typeof s=="object"){let a=new Date(s.getTime());if(L(a))return"date"}}catch{}D(s)||(typeof s=="bigint"?s=s.toString()+"n":s=JSON.stringify(s));let o=s.toLowerCase().trim();if(Cr.indexOf(o)>-1)return"null";if(Sr.indexOf(o)>-1)return"boolean";try{if(s.match(/^-?\d+n$/g))return"bigint";let a=JSON.parse(s);return m(a)?"number":typeof a=="object"?f(a)?"string":"object":"string"}catch{let h=new Date(s);return L(h)?"date":"string"}}),n=Fe(t),i=n.values.toSorted((s,u)=>n.get(u)-n.get(s))[0];return be({type:i,values:Ie(e,s=>I(s,i))})}function Ee(e){if(w(e)){let n=e.copy();return n.values=Ee(n.values),n}l(f(e),"The `inverse` function only works on square 2-dimensional arrays or DataFrames!");let t=b(e);if(l(t.length===2,"The array passed into the `inverse` function must be exactly two-dimensional and square!"),l(t[0]===t[1],"The array passed into the `inverse` function must be exactly two-dimensional and square!"),l(t[0]>=0,"The array passed into the `inverse` function must be exactly two-dimensional and square!"),t[0]===0)return e;if(t[0]===1){l(e[0][0]!==0,"This matrix cannot be inverted!");let n=e[0][0];return typeof n=="bigint"&&(n=Number(n)),1/n}else if(t[0]===2){let n=e[0][0],r=e[0][1],i=e[1][0],s=e[1][1];typeof n=="bigint"&&(n=Number(n)),typeof r=="bigint"&&(r=Number(r)),typeof i=="bigint"&&(i=Number(i)),typeof s=="bigint"&&(s=Number(s));let u=n*s-r*i;l(u!==0,"This matrix cannot be inverted!");let o=[[s,-r],[-i,n]];return ie(o,1/u)}else if(t[0]>1){let n=(r,i)=>m(r)||m(i)?ie(r,i):$(r,i);for(let r=1;r<t[0]-1;r++)try{let i=e.slice(0,r).map(C=>C.slice(0,r)),s=e.slice(0,r).map(C=>C.slice(r,t[0])),u=e.slice(r,t[0]).map(C=>C.slice(0,r)),o=e.slice(r,t[0]).map(C=>C.slice(r,t[0])),a=Ee(i),h=Ee(_e(o,n(-1,n(n(u,a),s)))),c=_e(a,n(n(n(n(a,s),h),u),a)),d=n(-1,n(n(a,s),h)),g=n(-1,n(n(h,u),a)),v=h;return c.map((C,ke)=>C.concat(d[ke])).concat(g.map((C,ke)=>C.concat(v[ke])))}catch{}l(!1,"This matrix cannot be inverted!")}}var Or=new Function(`
    try {
      return this === window
    } catch(e) {}

    try {
      return !!importScripts
    } catch(e){}

    return false
  `);function Jt(e,t,n){try{if(!m(e))return NaN;if(!m(t))return NaN;if(!m(n))return NaN;if(typeof e=="bigint"||typeof t=="bigint"){let r=Jt(Number(e),Number(t),n);try{return BigInt(r)}catch{return r}}return n*(t-e)+e}catch{return NaN}}var Br=E(Jt);function Yt(e,t){try{if(t=p(t)?Math.E:t,!m(e))return NaN;if(!m(t))return NaN;if(typeof e=="bigint"||typeof t=="bigint"){let n=Yt(Number(e),Number(t));try{return BigInt(n)}catch{return n}}return Math.log(e)/Math.log(t)}catch{return NaN}}var Tr=E(Yt);function Ir(e,t){return j(e,{shouldDropNaNs:t}).mean}function jr(e,t){return j(e,{shouldDropNaNs:t,median:!0}).median}function $t(e,t){try{if(!m(e))return NaN;if(!m(t))return NaN;if(typeof e=="bigint"||typeof t=="bigint"){let n=$t(Number(e),Number(t));try{return BigInt(n)}catch{return n}}return e%t}catch{return NaN}}var Mr=E($t);function kr(e,t){return j(e,{shouldDropNaNs:t,mode:!0}).mode}function bt(){let e=re(),t=re();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}function Lr(e){return p(e)?bt():Ie(k(e),bt)}function Rr(e){return Ie(k(e),()=>1)}function et(e,t){function*n(r,i){if(i=i||r.length,r.length===1){yield[r];return}for(let s of Mt(r,i)){if(!s.slice)continue;let u=xe(s.length);yield s;let o=1;for(;o<s.length;)if(u[o]<o){if(o%2===0){let a=s[0];s[0]=s[o],s[o]=a}else{let a=s[u[o]];s[u[o]]=s[o],s[o]=a}yield s,u[o]+=1,o=1}else u[o]=0,o+=1}}return w(e)||y(e)?et(e.values,t):(l(f(e),"The `permutations` function only works on arrays, Series, and DataFrames!"),p(t)&&(t=e.length),l(m(t)&&J(t)===t&&t>=0,"`r` must be a non-negative integer!"),n(R(e),t))}function Pr(e,t){let n=[];for(let r of et(e,t))n.push(r.slice());return n}function zr(){Object.keys(arguments).forEach(e=>{let t=arguments[e];if(f(t))if(ce(t))console.log(t);else{let n=b(t);n.length===1?new T(t).print():n.length==2?new N(t).print():console.log(t)}else w(t)||y(t)?t.print():console.log(t)})}var Hr=E((e,t,n,r,i)=>{try{let s=!1;for(let h of[e,t,n,r,i]){if(!m(h))return NaN;typeof h=="bigint"&&(s=!0)}s&&(e=Number(e),t=Number(t),n=Number(n),r=Number(r),i=Number(i));let u=(i-r)*(e-t),o=n-t;if(o===0)return NaN;let a=u/o+r;if(s)try{return BigInt(a)}catch{}return a}catch{return NaN}});function Jr(e,t,n,r,i){if(f(e)&&p(r)&&p(i)){r=t,i=n;let s=j(e);t=s.min,n=s.max}return Hr(e,t,n,r,i)}function Yr(e){try{return m(e)?typeof e=="bigint"?e:Math.round(e):NaN}catch{return NaN}}var $r=E(Yr);function Wt(e){try{return m(e)?typeof e=="bigint"?BigInt(Wt(Number(e))):e<0?-1:e>0?1:0:NaN}catch{return NaN}}var Wr=E(Wt);function Ur(e){try{return m(e)?(typeof e=="bigint"&&(e=Number(e)),Math.sin(e)):NaN}catch{return NaN}}var Vr=E(Ur);function Ve(e,t){if(w(e)||y(e))return Ve(e.values,t);l(f(e),"The first argument passed into the `some` function must be an array, Series, or DataFrame!"),l(S(t),"The second argument passed into the `some` function must be a function!");for(let n of e)if(f(n)){if(Ve(n,t))return!0}else if(t(n))return!0;return!1}function Ut(e,t){return j(e,{shouldDropNaNs:t,stdev:!0}).stdev}function Kr(e){return Ut(e)}function qr(e){try{return m(e)?(typeof e=="bigint"&&(e=Number(e)),Math.tan(e)):NaN}catch{return NaN}}var Gr=E(qr);function wt(e,t){l(S(e),"`fn` must be a function!");let n=new Date;return t?e(...t):e(),new Date-n}async function Xr(e,t){l(S(e),"`fn` must be a function!");let n=new Date;return t?await e(...t):await e(),new Date-n}function Zr(){return M([...arguments].map(e=>f(e)?e:w(e)||y(e)?e.values:[e]))}function Qr(e,t){return j(e,{shouldDropNaNs:t,variance:!0}).variance}function xr(){let e=[],t=Object.values(arguments).map(n=>((w(n)||y(n))&&(n=n.values),l(f(n),"The `zip` function only works on arrays, Series, and DataFrames!"),n));return _(0,Te(t.map(n=>n.length))).forEach(n=>{let r=[];t.forEach(i=>{let s=i[n];r.push(p(s)?void 0:s)}),e.push(r)}),e}var ue={abs:Ge,add:_e,apply:Ie,arccos:rr,arcsin:sr,arctan:or,argmax:Re,argmin:Pe,assert:l,cast:I,ceil:lr,chop:cr,clamp:fr,combinations:Mt,combinationsIterator:Ae,copy:O,correl:He,cos:mr,count:Fe,covariance:oe,DataFrame:N,dataTypes:gr,decycle:q,diff:Je,distance:Ye,divide:yr,dot:$,dropMissing:Qe,dropMissingPairwise:we,dropNaN:qe,dropNaNPairwise:ve,dropUndefined:br,every:Se,exp:vr,factorial:Dr,find:We,findAll:Ue,flatten:R,float:Fr,floor:_r,identity:Ar,IndexMatcher:je,indexOf:te,inferType:De,int:J,intersect:kt,inverse:Ee,isArray:f,isBoolean:K,isBrowser:Or,isDataFrame:w,isDate:L,isEqual:H,isFunction:S,isJagged:ce,isNested:Be,isNumber:m,isObject:z,isSeries:y,isString:D,isUndefined:p,lerp:Br,log:Tr,MathError:V,max:Te,mean:Ir,median:jr,min:It,mod:Mr,mode:kr,multiply:zt,ndarray:k,normal:Lr,ones:Rr,permutations:Pr,permutationsIterator:et,pow:Xe,print:zr,product:de,random:re,range:_,remap:Jr,reshape:ae,reverse:P,round:$r,scale:ie,seed:Ot,Series:T,set:M,shape:b,shuffle:Ne,sign:Wr,sin:Vr,some:Ve,sort:G,sqrt:Pt,stats:j,std:Ut,stdev:Kr,subtract:Ht,sum:Ze,tan:Gr,timeAsync:Xr,timeSync:wt,time:wt,transpose:W,union:Zr,variance:Qr,vectorize:E,zeros:xe,zip:xr,dump(){let e=typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:void 0;if(!e)throw new ue.MathError("Cannot dump functions into global scope because none of `globalThis`, `global`, `window`, or `self` exist in the current context!");Object.keys(ue).forEach(t=>{try{Object.defineProperty(e,t,{configurable:!1,enumerable:!0,writable:!1,value:ue[t]})}catch{e[t]=ue[t]}})}};typeof window<"u"&&(window.JSMathTools=ue);var ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:void 0;function Ke(e){let t=Symbol.for("@TypedArrayConstructor"),n="Symbol(@TypedArrayConstructor)",r=t in e?t:n in e?n:void 0;if(r){if(!("values"in e))throw new Error("The value passed into the `convertObjectToTypedArray` must have a 'values' property!");return e[r]==="ArrayBuffer"?new Uint8Array(e.values).buffer:new ei[e[r]](e.values)}if(f(e)&&e.constructor.name==="Array")return e;throw new Error("The value passed into the `convertObjectToTypedArray` must be an object that can be converted into a typed array!")}function ee(e){if(e instanceof ArrayBuffer||e instanceof BigInt64Array||e instanceof BigUint64Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Int8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return{[Symbol.for("@TypedArrayConstructor")]:e.constructor.name,values:e instanceof ArrayBuffer?Array.from(new Uint8Array(e)):Array.from(e)};if(f(e))return e.map(t=>{try{return ee(t)}catch{return t}});if(typeof e=="object"&e!==null){if(L(e))return new Date(e.getTime());let t={};return Object.keys(e).forEach(n=>{try{t[n]=ee(e[n])}catch{t[n]=e[n]}}),t}throw new Error("The value passed into the `convertTypedArrayToObject` function must be a typed array! Valid types include: ArrayBuffer, Float32Array, Float64Array, Int16Array, Int32Array, Int8Array, Uint16Array, Uint32Array, Uint8Array, and Uint8ClampedArray.")}function Vt(e){return e=e.trim(),!!(e.match(/^-?\d+(\.\d+)?$/g)||e.match(/^-?\d+(\.\d+)?e-?\d+(\.\d+)?$/g)||e.match(/^-?\.\d+$/g)||e==="NaN")}var Kt="!\"#%&'()*+,-./:;<=>?@[]^_`{|}~\xA0\xA1\xA4\xA7\xA9\xAA\xAB\xAE\xB0\xB1\xB6\xB7\xBA\xBB\xBF\xD7\xF7\u0254\u0300\u0301\u0302\u0303\u037E\u0387\u055A\u055B\u055C\u055D\u055E\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A\u066B\u066C\u066D\u06D4\u0700\u0701\u0702\u0703\u0704\u0705\u0706\u0707\u0708\u0709\u070A\u070B\u070C\u070D\u07F7\u07F8\u07F9\u0830\u0831\u0832\u0833\u0834\u0835\u0836\u0837\u0838\u0839\u083A\u083B\u083C\u083D\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04\u0F05\u0F06\u0F07\u0F08\u0F09\u0F0A\u0F0B\u0F0C\u0F0D\u0F0E\u0F0F\u0F10\u0F11\u0F12\u0F14\u0F3A\u0F3B\u0F3C\u0F3D\u0F85\u0FD0\u0FD1\u0FD2\u0FD3\u0FD4\u0FD9\u0FDA\u104A\u104B\u104C\u104D\u104E\u104F\u10FB\u1360\u1361\u1362\u1363\u1364\u1365\u1366\u1367\u1368\u1400\u166E\u169B\u169C\u16EB\u16EC\u16ED\u1735\u1736\u17D4\u17D5\u17D6\u17D8\u17D9\u17DA\u1800\u1801\u1802\u1803\u1804\u1805\u1806\u1807\u1808\u1809\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0\u1AA1\u1AA2\u1AA3\u1AA4\u1AA5\u1AA6\u1AA8\u1AA9\u1AAA\u1AAB\u1AAC\u1AAD\u1B5A\u1B5B\u1B5C\u1B5D\u1B5E\u1B5F\u1B60\u1BFC\u1BFD\u1BFE\u1BFF\u1C3B\u1C3C\u1C3D\u1C3E\u1C3F\u1C7E\u1C7F\u1CC0\u1CC1\u1CC2\u1CC3\u1CC4\u1CC5\u1CC6\u1CC7\u1CD3\u2010\u2011\u2012\u2013\u2014\u2015\u2016\u2017\u2018\u2019\u201A\u201B\u201C\u201D\u201E\u201F\u2020\u2021\u2022\u2023\u2024\u2025\u2026\u2027\u2030\u2031\u2032\u2033\u2034\u2035\u2036\u2037\u2038\u2039\u203A\u203B\u203C\u203D\u203E\u203F\u2040\u2041\u2042\u2043\u2045\u2046\u2047\u2048\u2049\u204A\u204B\u204C\u204D\u204E\u204F\u2050\u2051\u2052\u2053\u2054\u2055\u2056\u2057\u2058\u2059\u205A\u205B\u205C\u205D\u205E\u207D\u207E\u208D\u208E\u2116\u2117\u2120\u2122\u212E\u2212\u2234\u2235\u2248\u2300\u2308\u2309\u230A\u230B\u2311\u2329\u232A\u2380\u25CA\u25CC\u261E\u2640\u2642\u26A5\u2766\u2767\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C5\u27C6\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29D8\u29D9\u29DA\u29DB\u29FC\u29FD\u2CF9\u2CFA\u2CFB\u2CFC\u2CFE\u2CFF\u2D70\u2E00\u2E01\u2E02\u2E03\u2E04\u2E05\u2E06\u2E07\u2E08\u2E09\u2E0A\u2E0B\u2E0C\u2E0D\u2E0E\u2E0F\u2E10\u2E11\u2E12\u2E13\u2E14\u2E15\u2E16\u2E17\u2E18\u2E19\u2E1A\u2E1B\u2E1C\u2E1D\u2E1E\u2E1F\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u2E2A\u2E2B\u2E2C\u2E2D\u2E2E\u2E30\u2E31\u2E32\u2E33\u2E34\u2E35\u2E36\u2E37\u2E38\u2E39\u2E3A\u2E3B\u2E3C\u2E3D\u2E3E\u2E3F\u2E40\u2E41\u2E42\u2E43\u2E44\u2E45\u2E46\u2E47\u2E48\u2E49\u2E4A\u2E4B\u2E4C\u2E4D\u2E4E\u2E4F\u2E52\u3001\u3002\u3003\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\u301C\u301D\u301E\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D\uA60E\uA60F\uA673\uA67E\uA6F2\uA6F3\uA6F4\uA6F5\uA6F6\uA6F7\uA874\uA875\uA876\uA877\uA8CE\uA8CF\uA8F8\uA8F9\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1\uA9C2\uA9C3\uA9C4\uA9C5\uA9C6\uA9C7\uA9C8\uA9C9\uA9CA\uA9CB\uA9CC\uA9CD\uA9DE\uA9DF\uAA5C\uAA5D\uAA5E\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uD800\uD801\uD802\uD803\uD804\uD805\uD806\uD807\uD809\uD81A\uD81B\uD82F\uD836\uD83A\u{1F03B}\uDC41\uDC42\uDC43\uDC44\uDC45\uDC47\uDC48\uDC49\uDC4A\uDC4B\uDC4C\uDC4D\uDC4E\uDC4F\uDC57\uDC5A\uDC5B\uDC5D\uDC70\uDC71\uDC72\uDC73\uDC74\uDC9F\uDCBB\uDCBC\uDCBE\uDCBF\uDCC0\uDCC1\uDCC6\uDD00\uDD01\uDD02\uDD1F\uDD2F\uDD3F\uDD40\uDD41\uDD42\uDD43\uDD44\uDD45\uDD46\uDD5E\uDD5F\uDD6F\uDD74\uDD75\uDDC1\uDDC2\uDDC3\uDDC4\uDDC5\uDDC6\uDDC7\uDDC8\uDDC9\uDDCA\uDDCB\uDDCC\uDDCD\uDDCE\uDDCF\uDDD0\uDDD1\uDDD2\uDDD3\uDDD4\uDDD5\uDDD6\uDDD7\uDDDB\uDDDD\uDDDE\uDDDF\uDDE2\uDE38\uDE39\uDE3A\uDE3B\uDE3C\uDE3D\uDE3F\uDE40\uDE41\uDE42\uDE43\uDE44\uDE45\uDE46\uDE50\uDE51\uDE52\uDE53\uDE54\uDE55\uDE56\uDE57\uDE58\uDE60\uDE61\uDE62\uDE63\uDE64\uDE65\uDE66\uDE67\uDE68\uDE69\uDE6A\uDE6B\uDE6C\uDE6E\uDE6F\uDE7F\uDE87\uDE88\uDE89\uDE8A\uDE8B\uDE97\uDE98\uDE99\uDE9A\uDE9B\uDE9C\uDE9E\uDE9F\uDEA0\uDEA1\uDEA2\uDEA9\uDEAD\uDEF0\uDEF1\uDEF2\uDEF3\uDEF4\uDEF5\uDEF6\uDEF7\uDEF8\uDF37\uDF38\uDF39\uDF3A\uDF3B\uDF3C\uDF3D\uDF3E\uDF3F\uDF44\uDF55\uDF56\uDF57\uDF58\uDF59\uDF99\uDF9A\uDF9B\uDF9C\uDF9F\uDFD0\uDFE2\uDFFF\uFD3F\uFE10\uFE11\uFE12\uFE13\uFE14\uFE15\uFE16\uFE17\uFE18\uFE19\uFE30\uFE31\uFE32\uFE33\uFE34\uFE35\uFE36\uFE37\uFE38\uFE39\uFE3A\uFE3B\uFE3C\uFE3D\uFE3E\uFE3F\uFE40\uFE41\uFE42\uFE43\uFE44\uFE45\uFE46\uFE47\uFE48\uFE49\uFE4A\uFE4B\uFE4C\uFE4D\uFE4E\uFE4F\uFE50\uFE51\uFE52\uFE54\uFE55\uFE56\uFE57\uFE58\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE5F\uFE60\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01\uFF02\uFF03\uFF05\uFF06\uFF07\uFF08\uFF09\uFF0A\uFF0C\uFF0D\uFF0E\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B\uFF3C\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F\uFF60\uFF61\uFF62\uFF63\uFF64\uFF65";function qt(e,t,n){if(typeof e!="string")throw new Error("`text` must be a string!");if(typeof t!="string")throw new Error("`a` must be a string!");if(typeof n!="string")throw new Error("`b` must be a string!");return e.split(t).join(n)}var vt="  ",Dt=" ";function tt(e){if(typeof e!="string")throw new Error("`text` must be a string!");let t="";for(let n=0;n<e.length;n++){let r=e[n].toLowerCase();Kt.includes(r)?t+=Dt:t+=r}for(;t.includes(vt);)t=qt(t,vt,Dt);return t.trim()}function ti(e,t){return t=t||"",e.split(`
`).map(n=>n.trim().length>0?t+n:n).join(`
`)}function ni(e){if(typeof e!="string")throw new Error("`text` must be a string!");let t=tt(e).split(" ");return t.length===0?"":t.length===1?t[0]:t.join("-")}var Et={"@Infinity":1/0,"@NegativeInfinity":-1/0,"@NaN":NaN,"@undefined":void 0};function le(e){if(typeof e=="object"){if(e===null)return e;if(f(e))for(let t=0;t<e.length;t++)e[t]=le(e[t]);else Object.keys(e).concat(Object.getOwnPropertySymbols(e)).forEach(t=>{e[t]=le(e[t])});return e}else return typeof e>"u"||e==="Symbol(@undefined)"?void 0:e}function ri(e){if(typeof e=="bigint")return e;if(typeof e=="string")if(e.match(/^\s*?-?\d+n\s*?$/g))try{return BigInt(e.split("n")[0])}catch{return NaN}else return NaN;else return NaN}function ii(e){if(typeof e!="string")return typeof e=="number"?e:void 0;if(Vt(e))return parseFloat(e)}function si(e){if(typeof e!="string")return;let t="@jrc03c/js-text-tools/newline-replacer";if(e=e.replaceAll(`
`,t),e.trim().match(/^("|')?Symbol\(@String\):.*?("|')?$/g)){let n=e.replace("Symbol(@String):","");if(n.match(/^".*?"$/g))try{return JSON.parse(n)}catch{n=n.substring(1,n.length-1)}return n=n.replaceAll(t,`
`),n}}function ui(e){if(typeof e!="string")return typeof e=="symbol"?{out:e,isASymbol:!0}:void 0;if(e.trim().match(/^'?"?Symbol\(.*?\)"?'?$/g)){let t=e.replace(/^.*?Symbol\(/g,"").replace(/\).*?$/g,"");return t in Et?{out:Et[t],isASymbol:!0}:{out:Symbol.for(t),isASymbol:!0}}}function oi(e){if(typeof e!="string")return e instanceof RegExp?e:void 0;let t=e.trim();if(t.match(/^\/.*?\/(d|g|i|m|s|u|v|y)*?$/g))try{let n=t.replace(/^\//g,"").replace(/\/(d|g|i|m|s|u|v|y)*?$/g,""),r=t.match(/\/(d|g|i|m|s|u|v|y)*?$/g).at(-1).split("/").at(-1);return new RegExp(n,r)}catch{}}function ai(e){if(typeof e!="string")return typeof e=="object"?e:"Symbol(@undefined)";try{let t=JSON.parse(e,(n,r)=>{try{let i=Ce(r);return typeof i>"u"?"Symbol(@undefined)":i}catch{return typeof r>"u"?"Symbol(@undefined)":r}});return f(t)&&(t=le(t)),t}catch{return e}}function li(e){if(typeof e!="string")return e instanceof Date&&e.toString()!=="Invalid Date"?e:void 0;try{let t=new Date(Date.parse(e));if(t.toString()!=="Invalid Date")return t}catch{}}function hi(e){return typeof e=="object"?e!==null?le(e):void 0:(Object.keys(e).concat(Object.getOwnPropertySymbols(e)).forEach(t=>{try{let n=t;try{t=Ce(t)}catch{}e[t]=Ce(e[n]),t!==n&&delete e[n]}catch{}}),le(e))}function Ce(e){function t(n){if(typeof n=="string"){let r=si(n);if(typeof r=="string")return r;let i=ui(n);return r=i?i.out:void 0,i&&i.isASymbol||(r=oi(n),r instanceof RegExp)||(r=ri(n),typeof r=="bigint")||(r=ii(n),typeof r=="number")||(r=li(n),r instanceof Date)?r:(r=ai(n),typeof r<"u"?r==="Symbol(@undefined)"?void 0:r:n)}if(typeof n=="object"){if(n===null)return null;let r;try{if(r=Ke(n),f(r))return r}catch{}if(r=hi(n),r)try{return Ke(r)}catch{return r}return n}return n}return t(e)}function ci(e){let t=Oe(e);return t[0].toUpperCase()+t.slice(1)}function fi(e){if(typeof e!="string")throw new Error("`text` must be a string!");let t=tt(e).split(" ");return t.length===0?"":t.length===1?t[0]:t.join("_")}function U(e,t){return!e||t<=0?"":_(0,t).map(()=>e).join("")}function di(e,t){l(D(t)||p(t),"The second parameter to the `stringify` function must be undefined or a string!");let n=t?`
`:"";function r(i,s,u){return u=u||0,typeof i=="bigint"?JSON.stringify(i.toString()+"n"):typeof i=="number"?i===1/0?'"Symbol(@Infinity)"':i===-1/0?'"Symbol(@NegativeInfinity)"':isNaN(i)?'"Symbol(@NaN)"':i.toString():typeof i=="string"?JSON.stringify("Symbol(@String):"+i):typeof i=="boolean"?i.toString():typeof i>"u"?'"Symbol(@undefined)"':typeof i=="symbol"||typeof i=="function"?JSON.stringify(i.toString()):i instanceof RegExp?i.toString():typeof i=="object"?i===null?"null":L(i)?JSON.stringify(i.toJSON()):f(i)?i.length===0?U(s,u-1)+"[]":i instanceof Array?U(s,u-1)+"["+n+i.map(o=>{let a=(()=>{try{return r(ee(o),s,u+1)}catch{return r(o,s,u+1)}})();return D(a)&&(a=a.trim()),U(s,u+1)+a}).join(","+n)+n+U(s,u)+"]":r(ee(i),null,s):Object.keys(i).length+Object.getOwnPropertySymbols(i).length===0?U(s,u-1)+"{}":U(s,u-1)+"{"+n+Object.keys(i).concat(Object.getOwnPropertySymbols(i)).map(o=>{let a=(()=>{try{return r(ee(i[o]),s,u+1)}catch{return r(i[o],s,u+1)}})();D(a)&&(a=a.trim());let h=typeof o=="symbol"?r(o):JSON.stringify(o);return U(s,u+1)+h+":"+(s?" ":"")+a}).join(","+n)+n+U(s,u)+"}":"undefined"}return r(q(e),t)}function mi(e){let t=e.split(`
`),n=t.filter(i=>i.trim().length>0).map(i=>i.split("").findIndex(s=>!s.match(/\s/g))),r=Math.min(...n);return t.map(i=>i.substring(r)).join(`
`)}function gi(e,t){if(typeof e!="string")throw new Error("The first argument to the `wrap` function must be a string!");if((typeof t>"u"||t===null)&&(typeof process<"u"&&typeof process.stdout<"u"&&typeof process.stdout.columns=="number"?t=process.stdout.columns>80?80:process.stdout.columns:t=80),isNaN(t)||typeof t!="number")throw new Error("The second argument to the `wrap` function must be undefined, null, or an integer!");let n=[];return e.split(`
`).forEach(r=>{if(r.trim().length===0)return n.push("");let i=r.split(/[^\s]/g)[0],s=r.replace(i,"").split(" "),u=i;s.forEach(o=>{let a=u+(u.trim().length>0?" ":"")+o;a.length>t?(n.push(u),u=i+o):u=a}),u.length>0&&n.push(u)}),n.join(`
`)}typeof window<"u"&&(window.JSTextTools={camelify:Oe,convertObjectToTypedArray:Ke,convertTypedArrayToObject:ee,indent:ti,isANumberString:Vt,kebabify:ni,parse:Ce,pascalify:ci,punctuation:Kt,replaceAll:qt,snakeify:fi,stringify:di,strip:tt,unindent:mi,wrap:gi});var X=class extends HTMLElement{static css="";static observedAttributes=[];static template="";eventListeners=[];constructor(){super(...arguments);let t=this.attachShadow({mode:"open"});t.innerHTML=`
      <style>
        ${this.constructor.css}
      </style>

      ${this.constructor.template}
    `,this.eventListeners=[],Array.from(new Set(this.constructor.observedAttributes)).forEach(n=>{Object.defineProperty(this,Oe(n),{configurable:!0,enumerable:!0,get:()=>this.getAttribute(n),set:r=>{console.warn(`You directly set the value of the "${n}" attribute on a(n) ${this.constructor.name} element! While this isn't strictly prohibited, it's much better to follow the design principle of "attributes go down, events go up" by emitting an event indicating that you'd prefer to change the attribute value rather than changing it directly.`),this.setAttribute(n,r)}})})}async attributeChangedCallback(){}async connectedCallback(){}async disconnectedCallback(){this.eventListeners.forEach(t=>{try{t.remove()}catch{}})}getAttribute(){let t=super.getAttribute(...arguments);try{return JSON.parse(t)}catch{return t}}off(t,n,r){t.removeEventListener(n,r)}on(t,n,r){t.addEventListener(n,r);let i=()=>t.removeEventListener(n,r),s={target:t,event:n,callback:r,remove:i};return this.eventListeners.push(s),i}};function Me(e){return new Promise((t,n)=>{try{let r=new Date;return setTimeout(()=>t(new Date-r),e)}catch(r){return n(r)}})}function pi(e){let t=new Date,n=new Date;for(;n-t<e;)n=new Date;return new Date-t}typeof window<"u"&&(window.pause=Me,window.pauseAsync=Me,window.pauseSync=pi);var yi=`
  .x-draggable {
    position: absolute;
    left: 0;
    top: 0;
    cursor: grab;
  }

  .x-draggable:active,
  .x-draggable:active * {
    user-select: none;
  }

  .x-draggable.is-h-locked.is-v-locked {
    cursor: unset !important;
  }
`,bi=`
  <div class="x-draggable">
    <slot></slot>
  </div>
`,me=class extends Event{x=0;y=0;width=0;height=0},nt=class extends me{constructor(t,n){super("drag-start",n),this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}},rt=class extends me{constructor(t,n){super("drag",n),this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}},it=class extends me{constructor(t,n){super("drag-end",n),this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}},Y=class extends X{static css=yi;static observedAttributes=X.observedAttributes.concat(["is-h-locked","is-v-locked","x","y"]);static template=bi;_x=0;_y=0;isBeingDragged=!1;mouse={x:0,y:0};get root(){return this.shadowRoot.querySelector(".x-draggable")}async attributeChangedCallback(t,n,r){if(t==="is-h-locked"&&(r?this.root.classList.add("is-h-locked"):this.root.classList.remove("is-h-locked")),t==="is-v-locked"&&(r?this.root.classList.add("is-v-locked"):this.root.classList.remove("is-v-locked")),t==="x"){try{r=JSON.parse(r)}catch{}this._x=r,this.updateComputedStyle()}if(t==="y"){try{r=JSON.parse(r)}catch{}this._y=r,this.updateComputedStyle()}return await super.attributeChangedCallback(t,n,r)}async connectedCallback(){for(;!this.root;)await Me(10);return this.on(this.root,"mousedown",this.onMouseDown.bind(this)),this.on(window,"mousemove",this.onMouseMove.bind(this)),this.on(window,"mouseup",this.onMouseUp.bind(this)),this._x=this.x,this._y=this.y,this.updateComputedStyle(!0),await super.connectedCallback(...arguments)}async onMouseDown(t){t.preventDefault(),t.stopPropagation();let n=this.isHLocked,r=this.isVLocked;n&&r||(n||(this.mouse.x=t.screenX),r||(this.mouse.y=t.screenY),this.isBeingDragged=!0,this.root.style.cursor="grabbing",this.dispatchEvent(new nt(this.root.getBoundingClientRect())))}async onMouseMove(t){let n=this.isHLocked,r=this.isVLocked;if(!(n&&r)&&this.isBeingDragged){let i=t.screenX-this.mouse.x,s=t.screenY-this.mouse.y;n||(this._x+=i,this.mouse.x=t.screenX),r||(this._y+=s,this.mouse.y=t.screenY),this.updateComputedStyle(),this.dispatchEvent(new rt(this.root.getBoundingClientRect()))}}async onMouseUp(){let t=this.isHLocked,n=this.isVLocked;if(t&&n)return;let r=this.isBeingDragged;this.isBeingDragged=!1,this.root.style.cursor="",r&&this.dispatchEvent(new it(this.root.getBoundingClientRect()))}async updateComputedStyle(t){(t||!this.isHLocked)&&(this.root.style.left=this._x+"px"),(t||!this.isVLocked)&&(this.root.style.top=this._y+"px")}};customElements.define("x-draggable",Y);var wi=`
  /*
    .no-pointer-events,
    .no-pointer-events * {
      pointer-events: none;
    }
  */

  .ew-resize {
    cursor: ew-resize !important;
  }
  
  .ns-resize {
    cursor: ns-resize !important;
  }

  .nwse-resize {
    cursor: nwse-resize !important;
  }
  
  .nesw-resize {
    cursor: nesw-resize !important;
  }
`,vi="",ge=class extends Event{x=0;y=0;width=0;height=0;constructor(t,n,r){super(t,r),this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height}},st=class extends ge{constructor(t,n){super("resize-start",t,n)}},ut=class extends ge{constructor(t,n){super("resize",t,n)}},ot=class extends ge{constructor(t,n){super("resize-end",t,n)}},pe=class extends Y{static css=Y.css+wi;static observedAttributes=Y.observedAttributes.concat(["height","is-drag-h-locked","is-drag-v-locked","is-resize-bottom-locked","is-resize-left-locked","is-resize-right-locked","is-resize-top-locked","min-height","min-width","width","x","y"]);static template=Y.template+vi;_height=0;_width=0;_x=0;_y=0;anchoredLeftRightBorder=null;anchoredTopBottomBorder=null;borderWidth=10;isBeingResizedHorizontally=!1;isBeingResizedVertically=!1;isHoveringOverBottomBorder=!1;isHoveringOverLeftBorder=!1;isHoveringOverRightBorder=!1;isHoveringOverTopBorder=!1;mouse={x:0,y:0};shouldPreventInternalPointerEvents=!1;shouldScaleProportionally=!1;constructor(){super(...arguments),this.shadowRoot.querySelector(".x-draggable").classList.add("x-resizeable")}get isCompletelyLocked(){return this.isResizeLeftLocked&&this.isResizeRightLocked&&this.isResizeTopLocked&&this.isResizeBottomLocked}async attributeChangedCallback(t,n,r){try{r=JSON.parse(r)}catch{}return t==="width"&&(this._width=r,await this.updateComputedStyle()),t==="height"&&(this._height=r,await this.updateComputedStyle()),t==="is-drag-h-locked"&&this.setAttribute("is-h-locked",r),t==="is-drag-v-locked"&&this.setAttribute("is-v-locked",r),await super.attributeChangedCallback(t,n,r)}async connectedCallback(){return typeof this.isDragHLocked>"u"&&(this.isDragHLocked=!1),typeof this.isDragVLocked>"u"&&(this.isDragVLocked=!1),this._x=this.x,this._y=this.y,this._width=this.width,this._height=this.height,this.updateComputedStyle(),this.on(window,"keydown",this.onKeyDown.bind(this)),this.on(window,"keyup",this.onKeyUp.bind(this)),setTimeout(()=>{if(!this.width||!this.height){let{width:t,height:n}=this.root.getBoundingClientRect(),r=getComputedStyle(this.root),i=parseFloat(r.getPropertyValue("padding-left")),s=parseFloat(r.getPropertyValue("padding-right")),u=parseFloat(r.getPropertyValue("padding-top")),o=parseFloat(r.getPropertyValue("padding-bottom")),a=parseFloat(r.getPropertyValue("border-left").split("px")[0]),h=parseFloat(r.getPropertyValue("border-right").split("px")[0]),c=parseFloat(r.getPropertyValue("border-top").split("px")[0]),d=parseFloat(r.getPropertyValue("border-bottom").split("px")[0]);this._width=t-i-s-a-h,this._height=n-u-o-c-d,this.updateComputedStyle()}},100),await super.connectedCallback()}async onKeyDown(t){this.isCompletelyLocked||t.key==="Shift"&&(this.shouldScaleProportionally=!0)}async onKeyUp(t){this.isCompletelyLocked||t.key==="Shift"&&(this.shouldScaleProportionally=!1)}async onMouseDown(t){if(this.isCompletelyLocked)return;let n=!1;this.isHoveringOverLeftBorder&&!this.isResizeLeftLocked&&(this.isBeingResizedHorizontally=!0,this.anchoredLeftRightBorder="right",n=!0),this.isHoveringOverRightBorder&&!this.isResizeRightLocked&&(this.isBeingResizedHorizontally=!0,this.anchoredLeftRightBorder="left",n=!0),this.isHoveringOverTopBorder&&!this.isResizeTopLocked&&(this.isBeingResizedVertically=!0,this.anchoredTopBottomBorder="bottom",n=!0),this.isHoveringOverBottomBorder&&!this.isResizeBottomLocked&&(this.isBeingResizedVertically=!0,this.anchoredTopBottomBorder="top",n=!0),n&&(t.preventDefault(),t.stopPropagation()),this.isBeingResizedHorizontally||this.isBeingResizedVertically?this.dispatchEvent(new st(this.root.getBoundingClientRect())):await super.onMouseDown(t)}async onMouseMove(t){if(!this.isCompletelyLocked)if(this.isBeingResizedHorizontally||this.isBeingResizedVertically){let n=this._width/this._height,r=t.movementX,i=t.movementY;if(this.shouldScaleProportionally&&this.isBeingResizedHorizontally&&this.isBeingResizedVertically){let s=Math.abs(r)>Math.abs(i);if(this.anchoredLeftRightBorder==="left")if(this.anchoredTopBottomBorder==="top")s?(this._width+=r,this._height=this._width/n):(this._height+=i,this._width=this._height*n),this._width<this.minWidth&&(this._width=this.minWidth,this._height=this._width/n),this._height<this.minHeight&&(this._height=this.minHeight,this._width=this._height*n);else{if(s?(this._width+=r,this._height=this._width/n,this._y-=r/n):(this._height-=i,this._y+=i,this._width=this._height*n),this._width<this.minWidth){let u=this.minWidth-this._width;this._width=this.minWidth,this._height=this._width/n,this._y-=u/n}if(this._height<this.minHeight){let u=this.minHeight-this._height;this._height=this.minHeight,this._y-=u,this._width=this._height*n}}else if(this.anchoredTopBottomBorder==="top"){if(s?(this._width-=r,this._x+=r,this._height=this._width/n):(this._height+=i,this._width=this._height*n,this._x-=i*n),this._width<this.minWidth){let u=this.minWidth-this._width;this._width=this.minWidth,this._x-=u,this._height=this._width/n}if(this._height<this.minHeight){let u=this.minHeight-this._height;this._height=this.minHeight,this._width=this._height*n,this._x-=u*n}}else{if(s?(this._width-=r,this._x+=r,this._height=this._width/n,this._y+=r/n):(this._height-=i,this._y+=i,this._width=this._height*n,this._x+=i*n),this._width<this.minWidth){let u=this.minWidth-this._width;this._width=this.minWidth,this._x-=u,this._height=this._width/n,this._y-=u/n}if(this._height<this.minHeight){let u=this.minHeight-this._height;this._height=this.minHeight,this._y-=u,this._width=this._height*n,this._x-=u*n}}}else{if(this.isBeingResizedHorizontally){if(this.anchoredLeftRightBorder==="left")this._width+=r,this._width=Math.max(this._width,this.minWidth);else if(this._width-=r,this._x+=r,this._width<this.minWidth){let s=this.minWidth-this._width;this._width+=s,this._x-=s}}if(this.isBeingResizedVertically){if(this.anchoredTopBottomBorder==="top")this._height+=i,this._height=Math.max(this._height,this.minHeight);else if(this._height-=i,this._y+=i,this._height<this.minHeight){let s=this.minHeight-this._height;this._height+=s,this._y-=s}}}await this.updateComputedStyle(),t.preventDefault(),t.stopPropagation(),this.dispatchEvent(new ut(this.root.getBoundingClientRect()))}else{this.isHoveringOverLeftBorder=!1,this.isHoveringOverRightBorder=!1,this.isHoveringOverTopBorder=!1,this.isHoveringOverBottomBorder=!1,this.shouldPreventInternalPointerEvents=!1;let n=this.root.getBoundingClientRect(),r=n.x,i=n.x+n.width,s=n.y,u=n.y+n.height,o=!1;Math.abs(t.clientX-r)<this.borderWidth&&t.clientY>=s-this.borderWidth&&t.clientY<=u+this.borderWidth&&(this.isHoveringOverLeftBorder=!0,this.shouldPreventInternalPointerEvents=!0,o=!0),Math.abs(t.clientX-i)<this.borderWidth&&t.clientY>=s-this.borderWidth&&t.clientY<=u+this.borderWidth&&(this.isHoveringOverRightBorder=!0,this.shouldPreventInternalPointerEvents=!0,o=!0),Math.abs(t.clientY-s)<this.borderWidth&&t.clientX>=r-this.borderWidth&&t.clientX<=i+this.borderWidth&&(this.isHoveringOverTopBorder=!0,this.shouldPreventInternalPointerEvents=!0,o=!0),Math.abs(t.clientY-u)<this.borderWidth&&t.clientX>=r-this.borderWidth&&t.clientX<=i+this.borderWidth&&(this.isHoveringOverBottomBorder=!0,this.shouldPreventInternalPointerEvents=!0,o=!0),o&&(t.preventDefault(),t.stopPropagation()),await this.updateComputedStyle(),await super.onMouseMove(t)}}async onMouseUp(t){if(this.isCompletelyLocked)return;let n=this.isBeingResizedHorizontally||this.isBeingResizedVertically;this.isBeingResizedHorizontally=!1,this.isBeingResizedVertically=!1,this.isHoveringOverBorder=!1,n?this.dispatchEvent(new ot(this.root.getBoundingClientRect())):await super.onMouseUp(t)}async updateComputedStyle(){let t=this.isHoveringOverLeftBorder&&!this.isResizeLeftLocked,n=this.isHoveringOverRightBorder&&!this.isResizeRightLocked,r=this.isHoveringOverTopBorder&&!this.isResizeTopLocked,i=this.isHoveringOverBottomBorder&&!this.isResizeBottomLocked;return["ew","ns","nwse","nesw"].forEach(u=>{this.root.classList.remove(u+"-resize")}),(t||n)&&this.root.classList.add("ew-resize"),(r||i)&&this.root.classList.add("ns-resize"),t&&r&&this.root.classList.add("nwse-resize"),t&&i&&this.root.classList.add("nesw-resize"),n&&r&&this.root.classList.add("nesw-resize"),n&&i&&this.root.classList.add("nwse-resize"),this.root.style.width=this._width+"px",this.root.style.minWidth=this._width+"px",this.root.style.maxWidth=this._width+"px",this.root.style.height=this._height+"px",this.root.style.minHeight=this._height+"px",this.root.style.maxHeight=this._height+"px",await super.updateComputedStyle()}};customElements.define("x-resizeable",pe);typeof window<"u"&&(window.MiscVueComponents={BaseComponent:X,DraggableComponent:Y,ResizeableComponent:pe});})();
