(()=>{var s=class{duration=-1;name="Untitled timer event";start=new Date;timer=null;constructor(t){t=t||{},this.duration=t.duration||this.duration,this.name=t.name||this.name,this.start=t.start||this.start,this.timer=t.timer||this.timer}stop(){return this.timer?this.timer.stop(this):this.duration=new Date-this.start,this}toObject(){let t=this.start.getTime();return{duration:this.duration,name:this.name,start:t,stop:t+this.duration}}};var a=class{events=[];shouldLogToConsole=!0;constructor(t){t=t||{},this.shouldLogToConsole=typeof t.shouldLogToConsole>"u"?this.shouldLogToConsole:t.shouldLogToConsole}get totalTime(){let t=this.events[0],o=this.events[0];return this.events.forEach(e=>{e.start<t.start&&(t=e),e.start+e.duration>o.start+o.duration&&(o=e)}),o.start+o.duration-t.start}start(t){let o=new Date,e=new s({name:t,start:o,timer:this});return this.shouldLogToConsole&&console.log(`${o.toLocaleString()} | START: ${t}`),this.events.push(e),e}stop(t){if(t=t instanceof s?t:this.events.find(o=>o.name===t&&o.timer===this),!t)throw new Error(`No running event with name "${t}" could be found!`);return t.timer=null,t.stop(),this.shouldLogToConsole&&console.log(`${new Date().toLocaleString()} | STOP: ${t.name} (duration: ${t.duration} ms)`),this}toObject(){return{events:this.events.map(t=>t.toObject()),shouldLogToConsole:this.shouldLogToConsole}}};var r=class extends a{localStorageKey="LOGS";shouldSaveToLocalStorage=!0;constructor(t){t=t||{},super(t),this.localStorageKey=t.localStorageKey||this.localStorageKey,this.shouldSaveToLocalStorage=typeof t.shouldSaveToLocalStorage>"u"?this.shouldSaveToLocalStorage:t.shouldSaveToLocalStorage}download(t){let o=document.createElement("a");return o.href="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.toObject())),o.download=t,o.dispatchEvent(new MouseEvent("click")),this}save(){return this.shouldSaveToLocalStorage&&localStorage.setItem(this.localStorageKey,JSON.stringify(this.toObject())),this}start(){let t=super.start(...arguments);return this.save(),t}stop(){let t=super.stop(...arguments);return this.save(),t}};typeof globalThis<"u"&&(globalThis.BrowserTimer=r,globalThis.Timer=r);})();
